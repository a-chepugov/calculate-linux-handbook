# Оптимизация системы[¶](#Оптимизация-системы)

* [Оптимизация системы](#Оптимизация-системы)
* [Ускорение загрузки](#Ускорение-загрузки)
* [Ускорение запуска приложений](#Ускорение-запуска-приложений)
* [prelink](#prelink)
* [preload](#preload)
* [Повышение производительности](#Повышение-производительности)
* [Уменьшение размера дистрибутива](#Уменьшение-размера-дистрибутива)
* [Удаление неиспользуемых языков](#Удаление-неиспользуемых-языков)
* [Высвобождение дополнительного места](#Высвобождение-дополнительного-места)

## Ускорение загрузки[¶](#Ускорение-загрузки)

Calculate Linux использует для загрузки _OpenRC_. Благодаря переходу на бинарные утилиты загрузки и дополнительной оптимизации производительность существенно выросла, система стала загружаться значительно быстрее. В OpenRC предусмотрен режим параллельной загрузки, которая теперь включена по умолчанию в файле `/etc/rc.conf`:

    
    rc_parallel="YES" 
    

## Ускорение запуска приложений[¶](#Ускорение-запуска-приложений)

### prelink[¶](#prelink)

`prelink` - механизм предварительного связывания пакетов. Выполняется при сборке всех дистрибутивов Calculate Linux. В CLD/CLDX 9.9 `prelink` был добавлен в `cron` и теперь выполняется по расписанию. Включается в файле `/etc/conf.d/prelink` опцией:

    
    PRELINKING="yes" 
    

### preload[¶](#preload)

Начиная с версии 9.9, Calculate Linux Desktop включает утилиту `preload`. Работа программы становится заметной спустя некоторое время. Стартуя в _boot_-уровне загрузки, демон на протяжении всей работы компьютера анализирует время работы приложений. Впоследствии он уже сам подгружает необходимые программы и библиотеки в кэш памяти.

Благодаря тому, что `preload` занимает кэш дисковой системы, это не препятствует обычной работе - более того, ускоряет не только запуск отдельных приложений, но и загрузку системы в целом, создавая подобие параллельной загрузки.

## Повышение производительности[¶](#Повышение-производительности)

Дистрибутивы Calculate Linux собраны с флагом компиляции, позволяющим запускать систему на любых [i686](.html) и [x86\_64](.html)-совместимых процессорах. Вы можете несколько улучшить производительность вновь собранных пакетов, раскомментировав новые значения переменных `CFLAGS` и `CXXFLAGS` в файле `/etc/make.conf`:

    
    CFLAGS="-O2 -march=native -pipe" 
    CXXFLAGS="${CFLAGS}" 
    

Для повышения производительности системы в целом необходима пересборка всех пакетов.

    
    emerge -e system
    emerge -e world
    

Будьте внимательны, пересборка пакетов может потребовать определенного опыта, в случае если придется разрешать зависимости во время сборки. При выполнении будут загружены и скомпилированы все пакеты программ, входящие в дистрибутив. На выполнение может потребоваться от 5 часов и более, в зависимости от дистрибутива и производительности компьютера.

## Уменьшение размера дистрибутива[¶](#Уменьшение-размера-дистрибутива)

### Удаление неиспользуемых языков[¶](#Удаление-неиспользуемых-языков)

Calculate Linux собирается с поддержкой нескольких языков. Тем не менее после установки системы в переменной LINGUAS файла `/etc/make.conf` можно оставить только нужный язык или языки.

Пример:  

    
    LINGUAS="en ru" 
    

Для удаления из системы неиспользуемых языковых файлов потребуется обновление, которое будет заключаться в пересборке большого количества пакетов. Обратите внимание, что, если вы переопределите данную переменную в `/etc/make.conf`, все затронутые бинарные пакеты отныне всегда будут компилироваться.

### Высвобождение дополнительного места[¶](#Высвобождение-дополнительного-места)

Если вы готовите систему к установке и планируете в дальнейшем обновлять только из бинарных пакетов собственной сборки, вы можете существенно сократить объем LiveСD-образа, удалив исходники ядра, портежи и, возможно, сам компилятор `gcc`.
Вы можете выиграть в объеме, удалив:

* Portage : 35Mb в образе и 513Mb после установки
* исходники ядра : 76Мб в образе и 367Mb в установленной системе
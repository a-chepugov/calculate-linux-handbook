# Установка и удаление программ[¶](#Установка-и-удаление-программ)

* [Установка и удаление программ](#Установка-и-удаление-программ)
* [Обновление дерева портежей](#Обновление-дерева-портежей)
* [Поиск программ](#Поиск-программ)
* [Установка и удаление](#Установка-и-удаление)
* [Размаскировка программ](#Размаскировка-программ)
* [1\. Проверим доступные версии](#1-Проверим-доступные-версии)
* [2\. Размаскируем устанавливаемые пакеты с зависимостями](#2-Размаскируем-устанавливаемые-пакеты-с-зависимостями)
* [3\. Установим программу](#3-Установим-программу)

## Обновление дерева портежей[¶](#Обновление-дерева-портежей)

Перед установкой программ обновите локальный репозиторий пакетов. Обновлять репозиторий следует не чаще 1 раза в день.

Для обновления достаточно выполнить с правами пользователя root команду:

    
    cl-update --sync-only
    

Программа обновит дерево портежей, оверлей Calculate, а затем синхронизирует свой локальный кэш, используемый при поиске программ.

## Поиск программ[¶](#Поиск-программ)

В программу `emerge` включен инструмент поиска программ, однако вы можете воспользоваться более быстрым инструментом - программой `eix`.

Пример:  

    
    eix freeciv
    eix -S game
    

В первом случае поиск производится по названию пакета, во втором - по описанию.

## Установка и удаление[¶](#Установка-и-удаление)

Установка и удаление программ производится при помощи программы [emerge](.html). При установке новой программы сначала определяется необходимость в установке дополнительных пакетов (зависимостей), а затем скачиваются и компилируются исходные тексты. Помните, что для установки программ вам потребуется наличие интернета и некоторое время для компиляции. Программы, требующие значительного времени для компиляции (например, LibreOffice), распространяются в виде готовых к установке бинарных пакетов; их можно опознать по суффиксу "-bin".

Пример установки игры "Цивилизация" и бинарного LibreOffice:

    
    emerge -bk games-strategy/freeciv
    emerge libreoffice-bin
    

Параметры `-bk` создают локальный архив скомпилированного пакета, а при его наличии программа устанавливается из этого архива, минуя стадию компиляции. Инструкцию по работе с программой `emerge` можно прочесть [здесь](здесь.html).

Пример удаления игры "Цивилизация":  

    
    emerge -C games-strategy/freeciv
    

Переменные `DISTDIR` и `PKGDIR` указывают путь к локальным папкам, в которых сохраняются исходные тексты программ и откомпилированные пакеты. Посмотреть значения этих (и многих других) переменных, используемых `emerge`, можно с помощью команды  

    
    emerge --info
    

## Размаскировка программ[¶](#Размаскировка-программ)

Как правило, портежи содержат несколько версий программы, часть из которых отмечены как нестабильные. Нестабильная версия вовсе не означает, что она нестабильно работает - просто на данный момент эта версия не прошла достаточного тестирования. Вы можете установить как стабильную, так и нестабильную версию программы.

Для установки нестабильных программ их нужно предварительно размаскировать. Для примера установим нестабильный на данный момент Firefox 22.0\.

### 1\. Проверим доступные версии[¶](#1-Проверим-доступные-версии)

    
    eix firefox
     www-client/firefox
         Available versions:  *10.0.11 17.0.5 17.0.6 17.0.7 ~21.0 ~22.0
    ...
    

### 2\. Размаскируем устанавливаемые пакеты с зависимостями[¶](#2-Размаскируем-устанавливаемые-пакеты-с-зависимостями)

Удостоверьтесь, что директория `/etc/portage/package.keywords/` не пустая, иначе выполните:

    touch /etc/portage/package.{keywords,unmask,use}/custom

Выполните размаскировку:

    emerge --autounmask-write =www-client/firefox-22.0

Обновите настройки:

    dispatch-conf

Нажмите `"u"` для подтверждения внесенных изменений.

### 3\. Установим программу[¶](#3-Установим-программу)

    
    emerge firefox
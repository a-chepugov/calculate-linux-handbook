# Обновление системы cl-update[¶](#Обновление-системы-cl-update)

* [Обновление системы cl-update](#Обновление-системы-cl-update)
* [Описание функциональных возможностей](#Описание-функциональных-возможностей)
* [Описание опций утилиты](#Описание-опций-утилиты)
* [Ключи для управления синхронизацией и кэшами](#Ключи-для-управления-синхронизацией-и-кэшами)
* [Ключи применения шаблонов, ревизий](#Ключи-применения-шаблонов-ревизий)
* [Другие ключи](#Другие-ключи)

cl-update - утилита, выполняющая обновление системы со всеми необходимыми сопутствующими действиями.

## Описание функциональных возможностей[¶](#Описание-функциональных-возможностей)
Порядок обновления в общем случае следующий:

1. Синхронизация репозиториев дистрибутива
2. Если репозитории были обновлены, то выполняются действия _egencache_ и _eix-update_
3. Обновление ревизии и обновление мира
4. Обновление системы
5. Обновление Python/Perl с пересборкой поврежденных пакетов при необходимости
6. Удаление ненужных пакетов
7. Пересборка модулей ядра при необходимости
8. Пересборка прочих поврежденных пакетов при необходимости
9. Пересборка пакетов для Xorg-сервера, если в этом есть необходимость
10. Выполнение _dispatch-conf_

## Описание опций утилиты[¶](#Описание-опций-утилиты)

При запуске cl-update без параметров обновление будет происходить по общей схеме, но можно изменить поведение утилиты, используя ключи.

### Ключи для управления синхронизацией и кэшами[¶](#Ключи-для-управления-синхронизацией-и-кэшами)

    
    -r REPOSITORIES, --repositories REPOSITORIES
    

Задает синхронизируемые репозитории дистрибутива (все по умолчанию) ('list' для отображения возможных значений). При указании опции позволяет синхронизировать лишь выбранный репозиторий.

    
    --branch BRANCHES
    

Устанавливает ветки для репозиториев (REPOSITORY:BRANCH). Позволяет переключать между master/develop/update ветками репозиториев.

    
    --force-egencache
    

Принудительно обновляет кэш оверлеев.

    
    --skip-egencache
    

Пропускает обновление кэша оверлеев.

    
    --auto-egencache
    

Обновляет кэш оверлеев в том случае, если тот устарел (действие по умолчанию).

    
    --force-eix-update
    

Принудительно обновляет кэш eix.

    
    --skip-eix-update
    

Пропускает обновление кэша eix.

    
    --auto-eix-update
    

Обновляет кэш eix, если он устарел (поведение по умолчанию).

    
    -o [ON/OFF], --update-other [ON/OFF]
    

Выполняет обновление сторонних оверлеев (не являющихся репозиториями дистрибутива). По умолчанию выключено. Для того, чтобы изменить действие по умолчанию, надо изменить значение переменной cl\_update\_other\_set секции update; для этого можно выполнить следующую команду:  
cl-core-variables --set update.cl\_update\_other\_set=on

    
    -s [ON/OFF], --sync-only [ON/OFF]
    

Не обновлять пакеты. Выполняет синхронизацию и применяет ревизии.

### Ключи применения шаблонов, ревизий[¶](#Ключи-применения-шаблонов-ревизий)

    
    --rebuild-world [ON/OFF]
    

Переформирует world-файл согласно шаблонам дистрибутива на world-файл по умолчанию для данного профиля.

    
    --update-rev [ON/OFF]
    

Обновляет ревизию дистрибутива до текущей в шаблонах.

    
    -T TEMPLATES, --templates TEMPLATES
    

Выбор местонахождения шаблонов calculate,distros,local,remote,clt ('list' для отображения возможных значений)

    
    --usenew-conf
    

Использовать новые конфигурационные файлы.

    
    --skip-conf
    

Пропустить обновление конфигурационных файлов.

    
    --dispatch-conf
    

Обновить конфигурационные файлы вручную (по умолчанию).

### Другие ключи[¶](#Другие-ключи)

    
    -p [ON/OFF], --pretend [ON/OFF]
    

Вместо действительного обновления пакетов, только отобразить, что будет установлено.

    
    --wait-another-update [ON/OFF]
    

Ждать завершения выполнения другого запущенного cl-update. По умолчанию включено.

    
    --schedule [ON/OFF]
    

Учитывать график автопроверки обновлений. Если временной интервал с последней проверки ещё не прошел, то обновление выполняться не будет.

    
    -v [ON/OFF], --verbose [ON/OFF]
    

Включает подробный вывод.

    
    -f, --force
    

Не задавать вопросы во время процесса.
# DISPATCH-CONF[¶](#DISPATCH-CONF)

## НАЗВАНИЕ[¶](#НАЗВАНИЕ)
dispatch-conf - безопасное обновление конфигурационных файлов после установки новых пакетов 

## СИНТАКСИС[¶](#СИНТАКСИС)

**dispatch-conf**

## ОПИСАНИЕ[¶](#ОПИСАНИЕ)

Утилиту _dispatch-conf_ следует запускать после установки новых пакетов для проверки конфигурационных файлов на обновления. Если новый конфигурационный файл попытается затереть текущий, _dispatch-conf_ предложит пользователю самому решить, каким образом разрешить эту ситуацию. Среди достоинств _dispatch-conf_ - легкость отката изменений (изменения конфигурационных файлов сохраняются с помощью либо патчей, либо RCS) и возможность автоматического обновления тех файлов, которые пользователь не изменял, и тех, которые отличаются от текущей версии только CVS-мусором или пробелом.

_dispatch-conf_ проверит на обновления все каталоги, указанные в переменной _CONFIG\_PROTECT_, и автоматически обновит все файлы, фигурирующие в _CONFIG\_PROTECT\_MASK_. Подробнее см. в **make.conf**(5).

## ОПЦИИ[¶](#ОПЦИИ)

Нет.

## СИНТАКСИС[¶](#СИНТАКСИС)

_dispatch-conf_ следует запускать от администратора, поскольку владельцем файлов, с которыми работает утилита, как правило, является именно пользователь root. Перед первым запуском _dispatch-conf_ необходимо отредактировать настройки в файле **/etc/dispatch-conf.conf** и создать каталог архивов, указанный в _/etc/dispatch-conf.conf_. Все изменения конфигурационных файлов сохраняются в каталоге архивов - либо как патчи, либо с помощью RCS, благодаря чему довольно просто вернуться к предыдущей версии.

Всякий раз, когда _dispatch-conf_ обнаруживает конфигурационный файл, который был обновлен, пользователю дается возможность выбрать один из следующих вариантов, чтобы решить, что делать с предлагаемым обновлением:

**u**

Обновить (заменить) текущий конфигурационный файл новым и продолжить.

**z**

Затереть (удалить) новый конфигурационный файл и продолжить.

**n**

Пропустить и перейти к следующему конфигурационному файлу, не удаляя ни исходную версию, ни файлы, защищенные _CONFIG\_PROTECT_.

**e**

Редактировать новый конфигурационный файл в редакторе текста, определенном переменной _$EDITOR_.

**m**

В интерактивном режиме произвести слияние текущего и нового конфигурационных файлов.

**l**

Просмотреть различия между текущим и новым конфигурационными файлами.

**t**

Переключаться между текущим и новым конфигурационными файлами (в конечном итоге потребуется установить конечную версию, нажав u).

**h**

Вывести справку.

**q**

Выйти из _dispatch-conf._

## ФАЙЛ[¶](#ФАЙЛ)

**ВНИМАНИЕ:** Если **/etc/dispatch-conf.conf** сконфигурирован для использования **rcs**(1), права на чтение и исполнение архивированных файлов могут быть унаследованы от первой проверки рабочего файла, как описано в man-руководстве **ci**(1). Это означает, что даже если права доступа к рабочему файлу изменились, прежние права, действовавшие при первой проверке, могут быть возвращены. Согласно руководству **ci**(1), пользователи могут управлять доступом к RCS-файлам, изменив права на доступ к каталогу, в котором они лежат.

## БАГТРЕКЕР[¶](#БАГТРЕКЕР)

Об обнаруженных ошибках сообщайте на [http://bugs.gentoo.org/](http://bugs.gentoo.org/)

## АВТОРЫ[¶](#АВТОРЫ)

* Jeremy Wohl
* Karl Trygve Kalleberg <[karltk@gentoo.org](mailto:karltk@gentoo.org)\>
* Mike Frysinger <[vapier@gentoo.org](mailto:vapier@gentoo.org)\>
* Grant Goodyear <[g2boojum@gentoo.org](mailto:g2boojum@gentoo.org)\>

## ФАЙЛЫ[¶](#ФАЙЛЫ)

**/etc/dispatch-conf.conf**

Здесь хранятся настройки конфигурации для _dispatch-conf_.

## СМ. ТАКЖЕ[¶](#СМ-ТАКЖЕ)

**[make.conf](.html)**(5), **ci**(1), **[etc-update](.html)**(1), **rcs**(1)

## ПЕРЕВОД[¶](#ПЕРЕВОД)

* Елена Гаврилова <[e.vl.gavrilova@yandex.ru](mailto:e.vl.gavrilova@yandex.ru)\>

  
Январь 2011
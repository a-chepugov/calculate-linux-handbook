# Настройка TV тюнера Avermedia AVerTV 305/307[¶](#Настройка-TV-тюнера-Avermedia-AVerTV-305307)

* [Настройка TV тюнера Avermedia AVerTV 305/307](#Настройка-TV-тюнера-Avermedia-AVerTV-305307)
* [Проверка наличия необходимых модулей](#Проверка-наличия-необходимых-модулей)
* [Загрузка модулей](#Загрузка-модулей)
* [tvtime](#tvtime)
* [Телевизионный стандарт SECAM](#Телевизионный-стандарт-SECAM)
* [Телевизионный стандарт PAL](#Телевизионный-стандарт-PAL)
* [Настройка просмотра для двух стандартов PAL,SECAM](#Настройка-просмотра-для-двух-стандартов-PALSECAM)
* [mplayer](#mplayer)
* [Просмотр](#Просмотр)
* [Запись](#Запись)

## Проверка наличия необходимых модулей[¶](#Проверка-наличия-необходимых-модулей)

Необходимо убедиться, что в системе присутствуют следующие модули: "tuner", "saa7134", "tda9887".

Проверяем наличие модулей:  

    
    modprobe tuner
    modprobe saa7134
    modprobe tda9887
    

## Загрузка модулей[¶](#Загрузка-модулей)

В каталоге `/etc/modules.d` необходимо создать любой файл, например saa7134:  

    
    touch /etc/modules.d/saa7134
    

Содежимое файла saa7134:  

    
    alias char-major-81 videodev
    alias char-major-81-0 saa7134
    options saa7134 card=102 tuner=38 secam=dk i2c_scan=1 alsa=1
    options tuner secam=d
    options tda9887 port2=0 port1=1
    

Для загрузки модулей при запуске системы нужно выполнить:  

    
    update-modules --force
    

Перезагружаемся.

## tvtime[¶](#tvtime)

Устанавливаем `tvtime`:  

    
    emerge media-tv/tvtime
    

### Телевизионный стандарт SECAM[¶](#Телевизионный-стандарт-SECAM)

#### Первый вариант настройки

Выбираем tv-стандарт SECAM, таблицу каналов RUSSIA и выполняем поиск (команды в меню _tvtime_).

#### Второй вариант настройки

1. Выбираем tv-стандарт SECAM, таблицу каналов CUSTOM.
2. Выходим из tvtime.
3. Выполняем:  

    
    tvtime-scanner
    tvtime
    

### Телевизионный стандарт PAL[¶](#Телевизионный-стандарт-PAL)

Аналогично SECAM, только меняем стандарт на PAL.

### Настройка просмотра для двух стандартов PAL,SECAM[¶](#Настройка-просмотра-для-двух-стандартов-PALSECAM)

#### Первый вариант

1. Выбираем tv стандарт SECAM, таблицу каналов RUSSIA и выполняем поиск.
2. Выбираем tv стандарт PAL, рестартуем выполняем поиск.
3. Редактируем файл `~/.tvtime/stationlist.xml`, там будет 2 раздела.  
Для режима SECAM перечислены все каналы и для каждого своя строка с настройками.  
Параметр active говорит о том, что канал настроен (есть сигнал - 1, нет сигнала - 0).  
Ниже - тоже самое для режима PAL с его активными каналами.   
Для каждого канала есть параметр norm=SECAM или PAL соответственно.
4. В раздел SECAM добавляем, где нужно, каналы из раздела PAL с active=1, norm=PAL.
5. Выбираем tv-стандарт SECAM, рестартуем.

#### Второй вариант

Выполнить:  

    
    tvtime-scanner -n PAL && tvtime-scanner -n SECAM
    

Отредактировать файл `~/.tvtime/stationlist.xml` аналогично первому варианту (подразделы с 3 по 5)

## mplayer[¶](#mplayer)

### Просмотр[¶](#Просмотр)

    
    mplayer tv:// -tv device=/dev/video0:driver=v4l2:freq=144.25:normid=17
    

  
где:
\* freq=144.25 - частота; можно посмотреть после сканирования в `~/.tvtime/stationlist.xml`
\* normid=17 - SECAM, телевизионный стандарт (при запуске `mplayer` показывает доступные стандарты и номера normid)

### Запись[¶](#Запись)

    
    mencoder tv:// -tv device=/dev/video0:driver=v4l2:freq=144.25:normid=17 -ffourcc XVID  -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=1800:v4mv -vf pp=fd -audio-demuxer 20  -oac mp3lame -lameopts cbr:preset=128:mode=1 -o ./Video.avi
    

ffourcc XVID - совместимость с бытовыми плеерами и windows

_Видеокодек mpeg4_  
Битрейт видео vbitrate=1800\. Чем больше, тем качественней запись (больше загрузка процессора). Значение больше 2500 имеет смысл только для очень качественного оригинала.   
Бытовые плееры поддерживают примерно до 2000\.

_Удаление гребенки -vf pp=fd_  
Кодек звука mp3 (должен быть установлен аудиокодек _lame_)  
Битрейт звука 128

Пишет в директорию, из которой запущен, файл `./Video.avi`.
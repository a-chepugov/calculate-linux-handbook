# Настройка PXE[¶](#Настройка-PXE)

## Введение[¶](#Введение)

PXE --- среда для загрузки компьютеров с помощью сетевой карты без использования жёстких дисков, компакт-дисков и других устройств, применяемых при загрузке операционной системы. PXE-код, прописанный в сетевой карте, получает загрузчик из сети, после чего передаёт ему управление.

Для организации загрузки системы в PXE используются протоколы IP, UDP, DHCP и TFTP. Система, загружаемая по сети, является аналогом загрузки с liveCD.

## Основные требования[¶](#Основные-требования)

Настройка PXE может быть выполнена на [Calculate Directory Server](Calculate Directory Server.html) с пакетом `sys-apps/calculate-install` версии 3.1.8 или выше.

## Настройка[¶](#Настройка)

Перед настройкой PXE на сервере должен быть настроен [DHCP сервис](DHCP сервис.html).

Настройка PXE выполняется при помощи команды `cl-install-pxe`:

    
    # установка iso образа
    cl-install-pxe --iso /var/calculate/linux/cld-13.6.2-i686.iso
    

Образ дистрибутива развертывается в каталог `/var/calculate/pxe`, настраиваются необходимые службы `TFTP`, `NFS` и `DHCP`. Поддерживается одновременное использование только одной версии дистрибутива.

После завершения установки все машины в сети смогут воспользоваться PXE загрузкой.

## Настройка параметров по умолчанию[¶](#Настройка-параметров-по-умолчанию)

Вы можете изменить настройки загрузки PXE образа, такие как язык, часовой пояс, видео карта и другие при помощи параметра `DEFAULTPARAM` в файле `/var/calculate/pxe/pxelinux.cfg/default`. Запись должна быть добавлена после строки `DEFAULT calcmenu.c32`.

**Поддерживаемые параметры**

* Язык (для получения списка, выполните `cl-install -v --filter os_lang`) - `DEFAULTPARAM calculate=lang:ro_RO`
* Раскладка клавиатуры - `DEFAULTPARAM calculate=keymap:ru_RU`
* Часовой пояс - `DEFAULTPARAM calculate=timezone:Europe/Istanbul`
* Разрешение экрана - `DEFAULTPARAM calculate=resolution:2560x1600`
* Видео драйвер - `DEFAULTPARAM calculate=video:nvidia`
* Графическое ускорение (on/off) - `DEFAULTPARAM calculate=composite:on`
* Домен - `DEFAULTPARAM calculate=domain:192.168.2.3`
* Пароль для домена - `DEFAULTPARAM calculate=domain_pw:secret`

В качестве разделителя используется запятая. Пример: `DEFAULTPARAM calculate=domain:192.168.2.3,domain_pw:secret`

Примечание. Если указать только домен, пароль будет запрошен во время загрузки.
# Использование LDAP сервера для хранения учетных записей[¶](#Использование-LDAP-сервера-для-хранения-учетных-записей)

## Введение[¶](#Введение)

В Unix системе вся информация о пользователях хранится в файле _/etc/passwd_. Это текстовый файл, право на чтение которого имеют все пользователи, а на запись только суперпользователь. Пароли пользователей хранятся в файле _/etc/shadow_ в зашифрованном виде, закрытом для чтения и записи. Информация о группах хранится в файле _/etc/group_.

У этого способа хранения есть ряд ограничений, из которых можно выделить сложность переноса пользователей, ограниченность в атрибутах, производительность и т.п. Однако при помощи _PAM (Pluggable Authentication Module)_, вы можете с легкостью интегрировать в системы UNIX различные технологии аутентификации, в т.ч. _LDAP (Lightweight directory Access Protocol)_.

## Настройка Unix сервера[¶](#Настройка-Unix-сервера)

Выполнить настройки сервера вы можете воспользовавшись программой _cl-setup_, входящей в пакет _calculate-server_. Для этого выполните с правами суперпользователя:  

    
    cl-setup unix
    

После выполнения этой операции, имена учетных записей пользователей, хранящиеся в базе _LDAP_ сервера и имеющие системные _ID_, будут видны в системе.

## Добавление и удаление пользователей[¶](#Добавление-и-удаление-пользователей)

Обратите внимание, что после настройки LDAP сервера в качестве хранилища учётных записей Unix пользователей, следует использовать альтернативные команды по управлению пользователями.

Вместо команд: _useradd (adduser), userdel, usermod, passwd, groupadd, groupdel, groupmod_, следует использовать альтернативные: _cl-useradd, cl-userdel, cl-usermod, cl-passwd, cl-groupadd, cl-groupdel, cl-groupmod_. Синтаксис этих команд будет во многом совпадать с оригинальными.

Пример добавления пользователя test:  

    
    cl-useradd test unix
    

Пример изменения пароля пользователя test:  

    
    cl-passwd test unix
    

Обратите внимание на опцию _unix_, добавляемую в конце команды.
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>calculate-api</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style>
body { font:80% Verdana,Tahoma,Arial,sans-serif; }
h1, h2, h3, h4 {  font-family: "Trebuchet MS",Georgia,"Times New Roman",serif; }
ul.toc { padding: 4px; margin-left: 0; }
ul.toc li { list-style-type:none; }
ul.toc li.heading2 { margin-left: 1em; }
ul.toc li.heading3 { margin-left: 2em; }
a.wiki-anchor { display: none; margin-left: 6px; text-decoration: none; }
a.wiki-anchor:hover { color: #aaa !important; text-decoration: none; }
h1:hover a.wiki-anchor, h2:hover a.wiki-anchor, h3:hover a.wiki-anchor { display: inline; color: #ddd; }
pre {font-size:133% }
</style>
</head>
<body>
<h1 id="Calculate-API">Calculate API<a href="#Calculate-API" class="wiki-anchor">&para;</a></h1>


	<ul class="toc"><li class="heading1"><a href="#Calculate-API">Calculate API</a></li>
<li class="heading2"><a href="#Введение">Введение</a></li>
<li class="heading2"><a href="#Состав-Calculate-API">Состав Calculate API</a></li>
<li class="heading2"><a href="#Основные-модули">Основные модули</a></li>
<li class="heading3"><a href="#Метод-запускающий-процесс-на-выполнение">Метод, запускающий процесс на выполнение</a></li>
<li class="heading3"><a href="#Метод-предоставляющий-дополнительную-информацию">Метод, предоставляющий дополнительную информацию</a></li>
<li class="heading3"><a href="#Метод-процесса">Метод процесса</a></li>
<li class="heading3"><a href="#Категория-Установка">Категория Установка</a></li>
<li class="heading3"><a href="#Категория-Настройка">Категория Настройка</a></li>
<li class="heading3"><a href="#Категория-Утилиты">Категория Утилиты</a></li>
<li class="heading2"><a href="#Вспомогательные-модули">Вспомогательные модули</a></li>
<li class="heading3"><a href="#Методы-работы-с-сертификатами">Методы работы с сертификатами</a></li>
<li class="heading3"><a href="#Методы-работы-с-сессиями">Методы работы с сессиями</a></li>
<li class="heading3"><a href="#Методы-работы-с-процессами">Методы работы с процессами</a></li>
<li class="heading3"><a href="#Методы-работы-с-кэшем">Методы работы с кэшем</a></li>
<li class="heading3"><a href="#Прочие-вспомогательные-методы">Прочие вспомогательные методы</a></li>
</ul>


	<h2 id="Введение">Введение<a href="#Введение" class="wiki-anchor">&para;</a></h2>


	<p>Calculate API (Интерфейс прикладного программирования утилит Calculate) - набор готовых классов, функций, структур и констант утилит Calculate, предоставляемых для использования во внешних программных продуктах. Calculate API предоставляет инструменты взаимодействия различных клиентов (таких как <a href="cl-console.html" class="wiki-page">cl-console</a> и <a href="cl-console-gui.html" class="wiki-page">cl-console-gui</a>) с <a href="сервером утилит cl-core.html" class="wiki-page">сервером утилит cl-core</a>. Подробнее см. <noindex><a href="http://ru.wikipedia.org/wiki/%D0%98%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81_%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9" rel="nofollow" target="_blank" class="external">API в Википедии.</a></noindex></p>


	<p>Доступ к API осуществляется через протокол HTTPS, использующий криптографический протокол SSL, который зашифровывает все передаваемые данные и этим защищает их от несанкционированного доступа. Установка SSL-соединения обязательна для вызова API методов.</p>


	<p>В утилитах Calculate взаимодействие осуществляется по протоколу <noindex><a href="http://ru.wikipedia.org/wiki/SOAP" rel="nofollow" target="_blank" class="external">SOAP</a></noindex> . Обмен данными по этому протоколу ведется посредством XML-сообщений.</p>


	<h2 id="Состав-Calculate-API">Состав Calculate API<a href="#Состав-Calculate-API" class="wiki-anchor">&para;</a></h2>


На стороне сервера утилит API реализовано с использованием библиотеки <noindex><a href="https://github.com/soaplib/soaplib" class="external">dev-python/soaplib</a></noindex> .<br />Все модули и функции Calculate API можно разделить на две большие группы:
	<ul>
	<li><strong>Основные</strong> - служат для вызова методов, непосредственно выполняющих выбранные пользователем действия (установка системы, настройка сети и др.);</li>
		<li><strong>Вспомогательные</strong> - служат для обеспечения взаимодействия клиента и сервера утилит (получение списка доступных методов, получение сессии, проверка прав сертификата и др.).</li>
	</ul>


	<p>API реализовано с помощью <noindex><a href="http://ru.wikipedia.org/wiki/%D0%A3%D0%B4%D0%B0%D0%BB%D1%91%D0%BD%D0%BD%D1%8B%D0%B9_%D0%B2%D1%8B%D0%B7%D0%BE%D0%B2_%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D0%B4%D1%83%D1%80" rel="nofollow" target="_blank" class="external">rpc</a></noindex> декораторов библиотеки soaplib, осуществляющих взаимодействие и проверку параметров (их число и типы данных).</p>


	<h2 id="Основные-модули">Основные модули<a href="#Основные-модули" class="wiki-anchor">&para;</a></h2>


Основные модули и методы Calculate API осуществляют основные действия сервера утилит. Простейшие из них представляют собой отдельный класс с именем CoreWsdl (для импортирования в сервер утилит). В этом классе находятся как минимум три метода (два из которых <noindex><a href="http://ru.wikipedia.org/wiki/%D0%A3%D0%B4%D0%B0%D0%BB%D1%91%D0%BD%D0%BD%D1%8B%D0%B9_%D0%B2%D1%8B%D0%B7%D0%BE%D0%B2_%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D0%B4%D1%83%D1%80" rel="nofollow" target="_blank" class="external">rpc</a></noindex> методы), связанных между собой:
	<ul>
	<li>метод, запускающий процесс на выполнение;</li>
		<li>метод, предоставляющий дополнительную информацию клиенту;</li>
		<li>метод, выполняющий выбранное пользователем действие (представляет собой отдельный процесс).</li>
	</ul>


	<h3 id="Метод-запускающий-процесс-на-выполнение">Метод, запускающий процесс на выполнение<a href="#Метод-запускающий-процесс-на-выполнение" class="wiki-anchor">&para;</a></h3>


Рассмотрим на примере метода настройки пакетов в системе core_setup.<br />Имя метода, запускающего процесс на выполнение, является именем, по которому клиент вызывает данный метод (запускает процесс), в нашем случае это <em>core_setup</em>. Основные функции методов, запускающих процесс:
	<ul>
	<li>проверка поступающих от клиента параметров и сообщение об ошибках при необходимости;</li>
		<li>создание глобального словаря параметров процесса для хранения всей информации о процессе;</li>
		<li>запуск процесса на выполнение.</li>
	</ul>


	<p>Каждый такой метод оборачивается двумя обязательными декораторами (подробнее о декораторах на <noindex><a href="http://ru.wikipedia.org/wiki/%D0%94%D0%B5%D0%BA%D0%BE%D1%80%D0%B0%D1%82%D0%BE%D1%80_(%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD_%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F)" rel="nofollow" target="_blank" class="external">ru.wikipedia.org</a></noindex> ): <strong>rpc</strong> и <strong>core_method</strong>.</p>


	<h4>Декоратор rpc</h4>


	<p><strong>Декоратор rpc</strong> служит для указания типа входных и возвращаемых данных. В декораторе метода core_setup два входных параметра - целочисленный (номер сессии) и типа CoreSetupInfo (объект, хранящий необходимые значения для запуска и выполнения процесса), и один возвращаемый параметр - массив элементов, каждый из которых имеет тип ReturnedMessage:<br /><pre>
@rpc(Integer, CoreSetupInfo, _returns = Array(ReturnedMessage))
</pre></p>


	<h4>Возвращаемый тип ReturnedMessage</h4>


Для сообщения клиенту об успешном запуске процесса или об ошибках сервер утилит возвращает массив типовых сообщений типа ReturnedMessage. Каждое сообщение состоит из следующих полей:
	<ul>
	<li><code>type</code> - тип сообщения. В случае успешного запуска процесса type рано строке "pid", в случае ошибки "error", при необходимости сообщить предупреждение - "warning" </li>
		<li><code>message</code> - передаваемое сообщение. В случае успешного запуска процесса значение message равно идентификатору процесса (pid), в остальных случаях message хранит строку с сообщением об ошибке или предупреждении;</li>
		<li><code>field</code> - поле с ошибкой или предупреждением. Значение равно имени параметра, в котором допущена ошибка или для которого необходимо сообщить предупреждение;</li>
		<li><code>expert</code> - устанавливается, если поле находится в дополнительных настройках.</li>
	</ul>


	<h4>Декоратор core_method</h4>


<strong>Декоратор core_method</strong> используется для указания дополнительной информации о методе для клиента и имеет шесть параметров:
	<ul>
	<li><code>category</code> - указывает в какой категории будет находиться метод (для графических клиентов);</li>
		<li><code>title</code> - указывает отображаемое название метода, как правило является строкой для перевода;</li>
		<li><code>image</code> - указывает иконки для отображения (используется для графических клиентов. Иконки могут перечисляться через запятую и клиент использует первую найденную);</li>
		<li><code>gui</code> - определяет, используется ли данный метод для графических клиентов;</li>
		<li><code>command</code> - команда для создания символической ссылки на сервер утилит cl-core. Также указывает, используется ли данный метод для консольного клиента;</li>
		<li><code>rights</code> - указывает список прав, необходимых для возможности запуска данного метода. Для успешного запуска метода необходимы все указанные права.</li>
	</ul>


	<p>Для метода core_setup:<br /><pre>
@core_method(category=__('Configuration'), title=__('Configure package'),
             image='applications-other', gui=True, command='cl-core-setup',
             rights=['configure'])
</pre></p>


	<p>Декораторы указываются непосредственно перед объявлением метода и выполняются один раз. В итоге метод core_setup имеет вид:<br /><pre>
        ...
class CoreWsdl:
    @rpc(Integer, CoreSetupInfo, _returns = Array(ReturnedMessage))
    @core_method(category=__('Configuration'), title=__('Configure package'),
             image='applications-other', gui=True, command='cl-core-setup',
             rights=['configure'])
    def core_setup(self, sid, info):
        ...
</pre></p>


	<h3 id="Метод-предоставляющий-дополнительную-информацию">Метод, предоставляющий дополнительную информацию<a href="#Метод-предоставляющий-дополнительную-информацию" class="wiki-anchor">&para;</a></h3>


	<p>Рассмотрим на примере метода настройки пакетов в системе core_setup.<br />Для каждого метода, запускающего процесс на выполнение, должен быть метод, который сообщит клиенту информацию об используемых параметрах. Имя такого метода составляется из имени основного метода и окончания _<em>view</em>, например для метода core_setup имя метода, предоставляющего дополнительную информацию - <ins>core_setup_view</ins>.</p>


	<p>Методы, предоставляющие дополнительную информацию клиентам, имеет один декоратор <strong>rpc</strong>, служащий для указания типа входных и возвращаемых данных. Для метода core_setup_view декоратор rpc имеет вид:<br /><pre>
@rpc(Integer, ViewParams, _returns = ViewInfo)
</pre><br />Метод принимает два параметра: целое число (номер сессии) и обязательный параметр типа ViewParams, а также возвращает обязательный параметр типа ViewInfo, объект которого несёт в себе всю информацию о параметрах метода core-setup.</p>


	<p>В результате метод core_setup_view имеет вид:<br /><pre>
    @rpc(Integer, ViewParams,_returns = ViewInfo)
    def core_setup_view (self, sid, params):
</pre></p>


	<h4>Параметр ViewInfo</h4>


	<p>Класс ViewInfo и все ниже описанные классы (GroupField, Field) описаны в пакете calculate-core в файле core/server/api_types.py.<br />Параметр ViewInfo представляет собой массив объектов <strong>GroupField</strong> и булевый параметр <strong>has_brief</strong>, сообщающий клиенту о том, следует ли выводить информацию о значении всех параметров перед непосредственным запуском метода.</p>


Каждый объект <strong>GroupField</strong> несёт информацию о группе параметров (например, настройка локализации в методе установки системы) и состоит из:
	<ul>
	<li><code>name</code> - имя группы параметров для отображения;</li>
		<li><code>last</code> - булевое значение, указывает является ли данная группа последний (используется для методов с несколькими шагами);</li>
		<li><code>nextlabel</code> - строка, отображаемая на кнопке, осуществляющей переход на следующий шаг или запуск метода (по умолчанию "Далее" или "Ok", используется для графических клиентов);</li>
		<li><code>prevlabel</code> - строка, отображаемая на кнопке, осуществляющей переход на предыдущий шаг или выход из метода (по умолчанию "Назад" или "Отмена", используется для графических клиентов);</li>
		<li>Массив объектов типа <strong>Field</strong>.</li>
	</ul>


	<h4>Тип параметра Field</h4>


Объект типа Field - описание отдельного параметра, состоящее из полей:
	<ul>
	<li><code>name</code> - имя параметра;</li>
		<li><code>label</code> - отображаемое имя параметра;</li>
		<li><code>element</code> - тип элемента параметра (table, radio, combo, comboEdit, multichoice, input и др.), определяет основные характеристики и правила работы с параметром;</li>
		<li><code>type</code> - тип данных переменной;</li>
		<li><code>help</code> - дополнительная вспомогательная информация о параметре;</li>
		<li><code>value</code> - текущее значение переменной, поступившее от сервера утилит;</li>
		<li><code>choice</code> - список доступных для выбора значений (для элементов radio, combo, comboEdit, multichoice и др.);</li>
		<li><code>comments</code> - список комментариев, соответствующих каждому значению из choice, использующийся для отображения пользователю. Как правило, значения из comments имеют удобный для человека вид или перевод.</li>
		<li><code>listvalue</code> - список выбранных значений для элементов множественного выбора (multichoice, multichoice_add, selecttable, selecttable_add);</li>
		<li><code>tablevalue</code> - информация о таблице (только для элемента table), состоит из:
	<ul>
	<li><code>head</code> - заголовок таблиц, определяет название столбцов и ширину таблицы;</li>
		<li><code>body</code> - тело таблицы, представляет собой данные таблицы, поступающие от сервера утилит;</li>
		<li><code>values</code> - описание типов данных для столбцов (доступные значения, комментарии, доступность на редактирование);</li>
		<li><code>onChanged</code> - зависимость значений столбца от ключевых значений (первого столбца);</li>
	</ul>
	</li>
		<li><code>uncompatible</code> - булевое значение доступности параметра. Если uncompatible равно True, то данный параметр недоступен.</li>
		<li><code>default</code> - состояние параметра, находящегося в расширенных настройках. Определяет, будет ли отображено значение параметра в дополнительных настройках или оно будет пустым (авто).</li>
		<li><code>opt</code> - данные для работы из консоли. Состоит из:
	<ul>
	<li><code>help</code> - описание параметра (отображается при вызове метода с ключом -h, --help);</li>
		<li><code>metavalue</code> - строка, определяющая требуемое значение параметра;</li>
		<li><code>shortopt</code> - короткий (односимвольный) ключ параметра (например, -h);</li>
		<li><code>longopt</code> - основной ключ параметра (например, --help).</li>
	</ul></li>
	</ul>


	<h3 id="Метод-процесса">Метод процесса<a href="#Метод-процесса" class="wiki-anchor">&para;</a></h3>


Метод, выполняющий выбранное пользователем действие и запускающийся в отдельном процессе, является обычным методом класса CoreWsdl. Для взаимодействия с клиентами (сообщений о прогрессе выполнения процесса, ошибках, успешном выполнении и др.) он использует ряд встроенных функций (методов), описанных в пакете calculate-core в файле core/server/func.py, таких как:
	<ul>
	<li><code>addMessage</code> - основной метод добавления сообщения в стек сообщений для пользователя (сообщения имеют тип Message). Большинство методов являются удобными обёртками для данного метода. Имеет три входных параметра:</li>
	<ol>
	<li><code>type</code> - тип передаваемого сообщения;</li>
		<li><code>message</code> - текст передаваемое сообщение;</li>
		<li><code>id</code> - автоматически генерируемый идентификатор объекта (номер таблицы, прогресса задания и др.);</li>
	</ul></li>
	</ol>


	<ul>
	<li><code>printDefault</code> - вывод сообщения без отметок</li>
		<li><code>printPre</code> - вывод блока неформатируемого текста</li>
		<li><code>printSUCCESS</code> - обычное сообщение, имеет один параметр message(строку сообщения);</li>
		<li><code>printWARNING</code> - сообщение с предупреждением, имеет один параметр message(строку сообщения);</li>
		<li><code>printERROR</code> - сообщение об ошибке, имеет один параметр message(строку сообщения). Прерывает текущую задачу;</li>
		<li><code>startTask</code> - начало новой задачи, имеет три параметра:</li>
	<ol>
	<li><code>message</code> - название задачи;</li>
		<li><code>progress</code> - наличие контроля прогресса выполнения задачи (отображение прогрессбара клиентами);</li>
		<li><code>num</code> - количество частей для контроля прогресса. Используется только при progress равном True и определяет, сколько частей от общего прогресса выполнения займёт данная задача. Этот параметр не обязателен, актуален для клиента, работающего в упрощённом режиме вывода с одним прогрессом для всех задач текущего процесса.</li>
	</ul></li>
	</ol>


	<ul>
	<li><code>setTaskNumber</code> - установка числа частей для задач. Вызывается перед первым вызовом метода startTask. Если в вызовах startTask не указывается количество частей (параметр num), то в вызове setTaskNumber нет необходимости. Имеет один целочисленный параметр - число частей для задач, которое должно быть равно сумме всех значений параметра num, указанных в методах startTask;</li>
		<li><code>endTask</code> - сообщение о завершении текущей задачи. Имеет два параметра:</li>
	<ol>
	<li><code>result</code> - сообщение о завершении задачи;</li>
		<li><code>progress_message</code> - сообщение, используемое при выводе прогресса;</li>
	</ul></li>
	</ol>


	<ul>
	<li><code>endFrame</code> - сообщение пользователю о завершении работы процесса;</li>
		<li><code>addProgress</code> - добавление прогресса для задания;</li>
		<li><code>setProgress</code> - установить процент выполнения для текущего прогресса. Имеет три входных параметра:</li>
	<ol>
	<li><code>perc</code> - процент выполнения текущей задачи;</li>
		<li><code>short_message</code> - короткое сообщение для текущего процента выполнения;</li>
		<li><code>long_message</code> - длинное сообщение для текущего процента выполнения;</li>
	</ul></li>
	</ol>


	<ul>
	<li><code>getProgress</code> - получение текущего прогресса (процента) выполнения задачи;</li>
		<li><code>printTable</code> - отображение таблицы. Имеет шесть параметров (три основных и три, использующихся при необходимости взаимодействия пользователя с таблицей в графических клиентах):</li>
	<ol>
	<li><code>table_name</code> - отображаемое название таблицы;</li>
		<li><code>head</code> - заголовок таблицы;</li>
		<li><code>body</code> - тело таблицы;</li>
		<li><code>onClick</code> - название метода, вызываемого при нажатии на строку таблицы. При этом будут переданы параметры из этой строки, описанные в поле fields (см. далее);</li>
		<li><code>fields</code> - список полей, необходимых для передачи в вызываемый метод, имя которого хранится в параметре onClick. Список fields равен по длине заголовку таблицы, неиспользуемые для передачи поля равны пустым строкам. Например, при <span class="bluecode" >fields = ['cl_group_name', '', '']</span> в вызываемый метод передастся параметр cl_group_name, значение для которого будет взято из первого столбца выбранной строки;</li>
		<li><code>addAction</code> - добавить кнопку добавления над таблицей (кнопка с иконкой "плюс"), при нажатии на которую будет вызван метод, имя которого указано в параметре addAction;</li>
	</ul></li>
	</ol>


	<ul>
	<li><code>setStatus</code> - установить статус процесса. 0 - процесс успешно завершён, 1 - процесс выполняется, 2 - процесс завершён с ошибкой;</li>
		<li><code>getStatus</code> - получить текущий статус процесса;</li>
		<li><code>askQuestion</code> - получить от пользователя дополнительные данные (задать вопрос пользователю). Имеет один параметр message - текст сообщения. Вызов этого метода возвратит введённое пользователем значение; </li>
		<li><code>askPassword</code> - получить пароль от пользователя. Имеет два параметра: message (текст сообщения) и twice (необходимость дублирования ввода пароля).</li>
		<li><code>writeFile</code> - записать текущее состояние процесса в файл (по умолчанию /var/calculate/server/pids/N.pid, где N - идентификатор процесса (pid)).</li>
		<li><code>askChoice</code> - получить от пользователя выбор из представленных вариантнов</li>
		<li><code>askConfirm</code> - получить от пользователя подтвержение</li>
		<li><code>isInteractive</code> - узнать интерактивно ли запущена действие в консоли (действие может из консоли может быть запущено с ключом -f)</li>
	</ul>


	<p>Метод должен вернуть значение True при успешном завершении и значение False в случае ошибки.</p>


	<h3 id="Категория-Установка">Категория Установка<a href="#Категория-Установка" class="wiki-anchor">&para;</a></h3>


	<p>Для установки системы необходим установленный пакет calculate-install.</p>


В категории <strong>Установка</strong> находятся три метода (при наличии необходимых прав у сертификата):
	<ul>
	<li>Установка системы (install);</li>
		<li>Установка на Flash (install_flash);</li>
		<li>Установка <noindex><a href="http://ru.wikipedia.org/wiki/PXE" rel="nofollow" target="_blank" class="external">PXE</a></noindex> (install_pxe).</li>
	</ul>


	<p>Все методы установки системы работают через общий метод installCommon и описаны в файле install/cl_wsdl_install.py пакета calculate-install (/usr/lib/python2.7/site-packages/calculate/install/cl_wsdl_install.py).</p>


	<h4>Установка системы</h4>


	<p>Установка системы включает в себя:</p>


	<ul>
	<li><strong><code>install</code></strong> - rpc метод, проверяющий входные параметры и запускающий отдельный процесс установки системы;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>install</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа InstallInfo, хранящий в себе все параметры, необходимые для установки системы (класс InstallInfo объявлен в файле install/cl_wsdl_install.py пакета calculate-install (/usr/lib/python2.7/site-packages/calculate/install/cl_wsdl_install.py)).</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>install</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>install_view</code></strong> - rpc метод, создающий объект ViewInfo с данными о параметрах установки и передающий его клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>install_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>install_view</strong> - объект типа ViewInfo, несущий информацию о всех параметрах установки, допустимых значениях и способах отображения элементов (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<ul>
	<li><strong><code>install_vars</code></strong> - вспомогательный метод, формирующий структуру объекта ViewInfo;</li>
	</ul>


	<ul>
	<li><strong><code>Install</code></strong> - основной класс установки и настройки системы.</li>
	</ul>


	<h4>Установка системы на Flash</h4>


	<p>Установка системы на Flash включает в себя:</p>


	<ul>
	<li><strong><code>install_flash</code></strong> - rpc метод, проверяющий входные параметры и запускающий отдельный процесс установки системы на Flash носитель;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>install_flash</strong> аналогичны входным данным метода install:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа InstallInfo, хранящий в себе все параметры, необходимые для установки системы.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>install_flash</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>install_flash_view</code></strong> - rpc метод, создающий объект ViewInfo с данными о параметрах установки и передающий его клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>install_flash_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>install_flash_view</strong> - объект типа ViewInfo, несущий информацию о всех параметрах установки, допустимых значениях и способах отображения элементов.</p>
	</blockquote>


	<ul>
	<li><strong><code>install_flash_vars</code></strong> - вспомогательный метод, формирующий структуру объекта ViewInfo для методов install_flash и install_flash_view;</li>
	</ul>


	<ul>
	<li><strong><code>Install</code></strong> - основной класс установки и настройки системы.</li>
	</ul>


	<h4>Установка PXE</h4>


	<p>Установка PXE включает в себя:</p>


	<ul>
	<li><strong><code>install_pxe</code></strong> - rpc метод, проверяющий входные параметры и запускающий отдельный процесс установки системы с применением <noindex><a href="http://ru.wikipedia.org/wiki/PXE" rel="nofollow" target="_blank" class="external">PXE</a></noindex> (Установка PXE доступна только на Calculate Directory Server);</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>install_pxe</strong> аналогичны входным данным метода install:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа InstallInfo, хранящий в себе все параметры, необходимые для установки системы.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>install_pxe</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>install_pxe_view</code></strong> - rpc метод, создающий объект ViewInfo с данными о параметрах установки и передающий его клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>install_pxe_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>install_pxe_view</strong> - объект типа ViewInfo, несущий информацию о всех параметрах установки, допустимых значениях и способах отображения элементов.</p>
	</blockquote>


	<ul>
	<li><strong><code>install_flash_vars</code></strong> - вспомогательный метод, формирующий структуру объекта ViewInfo для методов install_flash и install_flash_view;</li>
	</ul>


	<ul>
	<li><strong><code>Install</code></strong> - основной класс установки и настройки системы.</li>
	</ul>


	<h3 id="Категория-Настройка">Категория Настройка<a href="#Категория-Настройка" class="wiki-anchor">&para;</a></h3>


К категории <strong>Настройка</strong> относятся:
	<ul>
	<li>Локализация (setup_locale);</li>
		<li>Загрузка (setup_boot);</li>
		<li>Сеть (setup_network);</li>
		<li>Видео (setup_video);</li>
		<li>Настройка пакета (core_setup);</li>
		<li>Система (setup_system).</li>
	</ul>


	<h4>Локализация</h4>


	<p>Настройка локализации, заключающаяся в настройки языка и часового пояса, включает в себя:</p>


	<ul>
	<li><strong><code>setup_locale</code></strong> - rpc метод, проверяющий входные параметры и запускающий отдельный процесс настройки локализации;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>setup_locale</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа InstallInfo, хранящий в себе все параметры, необходимые для установки и настройки системы.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>setup_locale</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>setup_locale_view</code></strong> - rpc метод, создающий объект ViewInfo с данными о параметрах настройки и передающий его клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>setup_locale_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>setup_locale_view</strong> - объект типа ViewInfo, несущий информацию о всех параметрах настройки локализации, допустимых значениях и способах отображения элементов (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<ul>
	<li><strong><code>setup_locale_vars</code></strong> - вспомогательный метод, формирующий структуру объекта ViewInfo для настройки локализации;</li>
	</ul>


	<ul>
	<li><strong><code>Install</code></strong> - основной класс установки и настройки системы.</li>
	</ul>


	<h4>Загрузка</h4>


	<p>Настройка загрузки, заключающаяся в изменении конфигурации <noindex><a href="http://ru.wikipedia.org/wiki/GRUB" rel="nofollow" target="_blank" class="external">grub</a></noindex>, включает в себя:</p>


	<ul>
	<li><strong><code>setup_boot</code></strong> - rpc метод, проверяющий входные параметры и запускающий отдельный процесс настройки загрузки;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>setup_boot</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа InstallInfo, хранящий в себе все параметры, необходимые для установки и настройки системы.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>setup_boot</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>setup_boot_view</code></strong> - rpc метод, создающий объект ViewInfo с данными о параметрах настройки и передающий его клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>setup_boot_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>setup_boot_view</strong> - объект типа ViewInfo, несущий информацию о всех параметрах настройки загрузки, допустимых значениях и способах отображения элементов (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<ul>
	<li><strong><code>setup_boot_vars</code></strong> - вспомогательный метод, формирующий структуру объекта ViewInfo для настройки загрузки;</li>
	</ul>


	<ul>
	<li><strong><code>Install</code></strong> - основной класс установки и настройки системы.</li>
	</ul>


	<h4>Сеть</h4>


	<p>Настройка сети заключается в выборе менеджера сети, настройке сетевых интерфейсов, указании имени хоста, сервера времени, сервера доменных имён, доменов для поиска и таблицы маршрутизации.<br />Настройка сети включает в себя:</p>


	<ul>
	<li><strong><code>setup_network</code></strong> - rpc метод, проверяющий входные параметры и запускающий отдельный процесс настройки сети;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>setup_network</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа InstallInfo, хранящий в себе все параметры, необходимые для установки и настройки системы.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>setup_network</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>setup_network_view</code></strong> - rpc метод, создающий объект ViewInfo с данными о параметрах настройки и передающий его клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>setup_network_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>setup_network_view</strong> - объект типа ViewInfo, несущий информацию о всех параметрах настройки сети, допустимых значениях и способах отображения элементов (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<ul>
	<li><strong><code>setup_network_vars</code></strong> - вспомогательный метод, формирующий структуру объекта ViewInfo для настройки сети;</li>
	</ul>


	<ul>
	<li><strong><code>Install</code></strong> - основной класс установки и настройки системы.</li>
	</ul>


	<h4>Видео</h4>


	<p>Настройка видео заключается в выборе видео драйвера, разрешения экрана, разрешения фреймбуфера и установке композита.<br />Настройка видео включает в себя:</p>


	<ul>
	<li><strong><code>setup_video</code></strong> - rpc метод, проверяющий входные параметры и запускающий отдельный процесс настройки видео;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>setup_video</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа InstallInfo, хранящий в себе все параметры, необходимые для установки и настройки системы.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>setup_video</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>setup_video_view</code></strong> - rpc метод, создающий объект ViewInfo с данными о параметрах настройки и передающий его клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>setup_video_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>setup_video_view</strong> - объект типа ViewInfo, несущий информацию о всех параметрах настройки видео, допустимых значениях и способах отображения элементов (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<ul>
	<li><strong><code>setup_video_vars</code></strong> - вспомогательный метод, формирующий структуру объекта ViewInfo для настройки видео;</li>
	</ul>


	<ul>
	<li><strong><code>Install</code></strong> - основной класс установки и настройки системы.</li>
	</ul>


	<h4>Система</h4>


	<p>Настройка системы заключается в наложении системных шаблонов (локальных, удалённых и шаблонов из overlay).<br />Настройка системы включает в себя:</p>


	<ul>
	<li><strong><code>setup_system</code></strong> - rpc метод, проверяющий входные параметры и запускающий отдельный процесс настройки системы;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>setup_system</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа InstallInfo, хранящий в себе все параметры, необходимые для установки и настройки системы.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>setup_system</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>setup_system_view</code></strong> - rpc метод, создающий объект ViewInfo с данными о параметрах настройки и передающий его клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>setup_system_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>setup_system_view</strong> - объект типа ViewInfo, несущий информацию о всех параметрах настройки системы, допустимых значениях и способах отображения элементов (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<ul>
	<li><strong><code>setup_system_vars</code></strong> - вспомогательный метод, формирующий структуру объекта ViewInfo для настройки системы;</li>
	</ul>


	<ul>
	<li><strong><code>Install</code></strong> - основной класс установки и настройки системы.</li>
	</ul>


	<h4>Настройка пакета</h4>


	<p>Настройка пакета заключается в выборе пакета и наложении шаблонов для него.<br />Настройка пакета включает в себя:</p>


	<ul>
	<li><strong><code>core_setup</code></strong> - rpc метод, проверяющий входные параметры и запускающий отдельный процесс настройки пакета;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>setup_video</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа CoreSetupInfo, хранящий в себе все параметры, необходимые для настройки пакета (класс CoreSetupInfo объявлен в файле core/server/setup_package.py пакета calculate-core).</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>setup_video</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>core_setup_view</code></strong> - rpc метод, создающий объект ViewInfo с данными о параметрах настройки и передающий его клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>setup_video_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>setup_video_view</strong> - объект типа ViewInfo, несущий информацию о всех параметрах настройки пакета, допустимых значениях и способах отображения элементов (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<ul>
	<li><strong><code>core_setup_vars</code></strong> - вспомогательный метод, формирующий структуру объекта ViewInfo для настройки пакета;</li>
	</ul>


	<ul>
	<li><strong><code>updateSystemConfigs</code></strong> - основной класс настройки пакета.</li>
	</ul>


	<h3 id="Категория-Утилиты">Категория Утилиты<a href="#Категория-Утилиты" class="wiki-anchor">&para;</a></h3>


Категория <strong>Утилиты</strong> состоит из трёх групп методов:
	<ul>
	<li>Управление запросами (core_show_request, core_detail_request, core_confirm_request, core_del_request);</li>
		<li>Просмотр сертификатов (core_view_cert);</li>
		<li>Управление группами (core_show_groups, core_detail_group, core_add_group, core_change_group, core_del_group).</li>
	</ul>


	<h4>Управление запросами</h4>


	<p>Группа методов управления запросами состоит из методов просмотра, подробного просмотра, подтверждения (подписания) и удаления запросов.</p>


	<p><strong>Просмотр запросов</strong> выводит таблицу текущих запросов на сервере утилит, включает в себя:</p>


	<ul>
	<li><strong><code>core_show_request</code></strong> - rpc метод, проверяющий входные параметры и вызывающий вспомогательный метод requestCommon, который запускает процесс формирования таблицы запросов на сервере утилит;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_show_request</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа RequestInfo, хранящий в себе параметры выдаваемой таблицы запросов (количество строк и смещение). Класс RequestInfo объявлен в файле core/server/request.py пакета calculate-core.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_show_request</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>core_show_request_view</code></strong> - rpc метод, создающий объект ViewInfo с данными, необходимыми для формирования таблицы запросов, и передающий его клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_show_request_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_show_request_view</strong> - объект типа ViewInfo, несущий информацию о параметрах таблицы запросов (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<ul>
	<li><strong><code>show_request_meth</code></strong> - метод, формирующий таблицу запросов на сервере утилит;</li>
	</ul>


	<ul>
	<li><strong><code>requestCommon</code></strong> - метод, выполняющий дополнительные проверки и запускающий процесс формирования таблицы запросов на сервере утилит.</li>
	</ul>


	<p><strong>Подробный просмотр запросов</strong> реализован для графических клиентов и осуществляет взаимодействие метода просмотра запросов с методами подтверждения и удаления запросов на сервере утилит, включает в себя:</p>


	<ul>
	<li><strong><code>core_detail_request</code></strong> - rpc метод, проверяющий входные параметры (номер запроса). Не вызывает никаких других методов (является заглушкой);</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_detail_request</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа DetailRequestInfo, хранящий в себе параметры запроса (номер и имя группы для подписания сертификата). Класс DetailRequestInfo объявлен в файле core/server/request.py пакета calculate-core.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_detail_request</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>core_detail_request_view</code></strong> - rpc метод, создающий объект ViewInfo с данными запроса. Содержит данные о запросе и кнопки вызова других методов (просмотра, подписания и удаления запросов, с передачей необходимых параметров);</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_detail_request_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_detail_request_view</strong> - объект типа ViewInfo, несущий информацию о всех параметрах запроса, допустимых значениях и способах отображения элементов, а так же кнопках перехода к другим методам и передачи им параметров (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<p><strong>Подтверждение (подписание) запросов</strong> осуществляет создание сертификата клиента, включает в себя:</p>


	<ul>
	<li><strong><code>core_confirm_request</code></strong> - rpc метод, проверяющий входные параметры и вызывающий вспомогательный метод confirmRequestCommon, который запускает процесс подписания запроса на сертификат;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_confirm_request</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа DetailRequestInfo, хранящий в себе номер запроса и имя группы для подписания сертификата.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_confirm_request</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>core_confirm_request_view</code></strong> - rpc метод, создающий объект ViewInfo с данными, необходимыми для формирования таблицы запросов, и передающий его клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_confirm_request_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_confirm_request_view</strong> - объект типа ViewInfo, несущий информацию о параметрах запроса (номер запроса и имя группы для подписания), допустимых значениях и способах отображения элементов (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<ul>
	<li><strong><code>confirm_request_meth</code></strong> - метод, выполняющий подписание сертификата;</li>
	</ul>


	<ul>
	<li><strong><code>confirmRequestCommon</code></strong> - метод, выполняющий дополнительные проверки и запускающий процесс подписания сертификата (confirm_request_meth).</li>
	</ul>


	<p><strong>Удаление запроса</strong> включает в себя:</p>


	<ul>
	<li><strong><code>core_del_request</code></strong> - rpc метод, проверяющий входные параметры и вызывающий вспомогательный метод delRequestCommon, который удаляет все данные о запросе с сервера утилит;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_del_request</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа DetailRequestInfo, хранящий в себе номер запроса для его удаления.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_del_request</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>core_del_request_view</code></strong> - rpc метод, создающий объект ViewInfo с данными, необходимыми для удаления запроса, и передающий его клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_del_request_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_del_request_view</strong> - объект типа ViewInfo, несущий информацию о параметрах запроса (номер запроса), допустимых значениях и способах отображения элементов (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<ul>
	<li><strong><code>del_request_meth</code></strong> - метод, выполняющий удаления запроса;</li>
	</ul>


	<ul>
	<li><strong><code>delRequestCommon</code></strong> - метод, выполняющий дополнительные проверки и запускающий процесс удаления запроса (del_request_meth).</li>
	</ul>


	<h4>Просмотр сертификатов</h4>


	<p>Просмотр сертификатов заключается в просмотре данных по выбранному сертификату: доступных методов, группы прав, данных о подписчике и субъекте, серийного номера и отпечатка сертификата.<br />Просмотр сертификатов включает в себя:</p>


	<ul>
	<li><strong><code>core_view_cert</code></strong> - rpc метод, проверяющий входные параметры и вызывающий вспомогательный метод certificateCommon;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_view_cert</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа CertificateInfo, хранящий в себе номер сертификата.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_view_cert</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>core_view_cert_view</code></strong> - rpc метод, создающий объект ViewInfo с данными, необходимыми выбора сертификата для просмотра информации о нём, и передающий его клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_view_cert_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_view_cert_view</strong> - объект типа ViewInfo, несущий информацию о параметрах (номера сертификатов), допустимых значениях и способах отображения элементов (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<ul>
	<li><strong><code>view_cert_meth</code></strong> - метод, выполняющий сбор информации о сертификате (доступных для выполнения методов, группы прав сертификата, данных о подписчике и субъекте, серийного номера и отпечатка сертификата);</li>
	</ul>


	<ul>
	<li><strong><code>certificateCommon</code></strong> - метод, выполняющий дополнительные проверки и запускающий процесс просмотра данных о сертификате (view_cert_meth).</li>
	</ul>


	<h4>Управление группами</h4>


	<p>Группа методов управления группами состоит из методов просмотра, подробного просмотра, добавления, изменения и удаления групп прав сертификатов.</p>


	<p><strong>Просмотр групп</strong> выводит таблицу текущих групп на сервере утилит, включает в себя:</p>


	<ul>
	<li><strong><code>core_show_groups</code></strong> - rpc метод, проверяющий входные параметры и вызывающий вспомогательный метод groupCommon, который запускает процесс формирования таблицы групп, существующих на сервере утилит;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_show_groups</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа GroupInfo, хранящий в себе параметры выдаваемой таблицы запросов (количество строк и смещение). Класс GroupInfo объявлен в файле core/server/edit_groups.py пакета calculate-core.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_show_groups</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>core_show_groups_view</code></strong> - rpc метод, создающий объект ViewInfo с данными, необходимыми для формирования таблицы групп, и передающий этот объект клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_show_groups_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_show_groups_view</strong> - объект типа ViewInfo, несущий информацию о параметрах таблицы групп (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<ul>
	<li><strong><code>show_groups_meth</code></strong> - метод, формирующий таблицу групп на сервере утилит;</li>
	</ul>


	<ul>
	<li><strong><code>groupCommon</code></strong> - метод, выполняющий дополнительные проверки и запускающий процесс формирования таблицы групп на сервере утилит (запуск метода show_groups_meth).</li>
	</ul>


	<p><strong>Подробный просмотр группы</strong> реализован для графических клиентов и осуществляет взаимодействие метода просмотра групп с методами изменения и удаления групп на сервере утилит, включает в себя:</p>


	<ul>
	<li><strong><code>core_detail_group</code></strong> - rpc метод, проверяющий входные параметры (имя группы). Не вызывает никаких других методов (является заглушкой);</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_detail_group</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа DetailGroupInfo, хранящий в себе параметры группы (имя группы и список прав). Класс DetailGroupInfo объявлен в файле core/server/edit_groups.py пакета calculate-core.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_detail_group</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>core_detail_group_view</code></strong> - rpc метод, создающий объект ViewInfo с данными группы. Содержит данные о группе и кнопки вызова других методов (просмотра, изменения и удаления группы, с передачей необходимых параметров);</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_detail_group_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_detail_group_view</strong> - объект типа ViewInfo, несущий информацию о параметрах группы прав, допустимых значениях и способах отображения элементов, а так же кнопках перехода к другим методам и передачи им параметров (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<p><strong>Добавление группы</strong> создаёт новую группу прав на сервере утилит (для графического клиента - кнопка плюс "+" над таблицей групп). Включает в себя:</p>


	<ul>
	<li><strong><code>core_add_group</code></strong> - rpc метод, проверяющий входные параметры и вызывающий вспомогательный метод addGroupCommon;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_add_group</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>info - объект типа AddGroupInfo, хранящий в себе имя новой группы и список прав для неё.</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_add_group</strong> - список объектов типа ReturnedMessage, несущих информацию о запуске процесса (идентификатор процесса pid) или сообщения с ошибками.</p>
	</blockquote>


	<ul>
	<li><strong><code>core_add_group_view</code></strong> - rpc метод, создающий объект ViewInfo с данными, необходимыми для добавления группы, и передающий его клиенту;</li>
	</ul>


	<blockquote>
		<p>Входные данные метода <strong>core_add_group_view</strong>:
	<ol>
	<li>sid - идентификатор (номер) сессии;</li>
		<li>params - объект типа ViewParams (описание типа ViewParams см. выше в разделе "Метод, предоставляющий дополнительную информацию").</li>
	</ol></p>
	</blockquote>


	<blockquote>
		<p>Результирующие данные метода <strong>core_add_group_view</strong> - объект типа ViewInfo, несущий информацию о параметрах новой группы (имя и список прав), допустимых значениях и способах отображения элементов (описание типа ViewInfo см. выше в разделе "Метод, предоставляющий дополнительную информацию").</p>
	</blockquote>


	<ul>
	<li><strong><code>add_group_meth</code></strong> - метод, выполняющий добавление новой группы;</li>
	</ul>


	<ul>
	<li><strong><code>addGroupCommon</code></strong> - метод, выполняющий дополнительные проверки и запускающий процесс добавления группы (add_group_meth).</li>
	</ul>


	<h2 id="Вспомогательные-модули">Вспомогательные модули<a href="#Вспомогательные-модули" class="wiki-anchor">&para;</a></h2>


Вспомогательные модули служат для обеспечения взаимодействия клиента и сервера утилит. По выполняемым функциям методы этих модулей можно разделить на пять типов:
	<ul>
	<li>работа с сертификатами, запросами и списками отзывов сертификатов;</li>
		<li>работа с сессиями;</li>
		<li>работа с процессами;</li>
		<li>работа с кэшем сессий, методов и процессов;</li>
		<li>прочие методы.</li>
	</ul>


	<h3 id="Методы-работы-с-сертификатами">Методы работы с сертификатами<a href="#Методы-работы-с-сертификатами" class="wiki-anchor">&para;</a></h3>


К вспомогательным методам работы с сертификатами относятся:
	<ul>
	<li><strong>post_client_request</strong> - отправить клиентский запрос на подпись сертификата. Вызов этого метода передаёт на сервер утилит от клиента запрос на подпись сертификата.</li>
	</ul>


	<blockquote>
		<p>Имеет четыре входных параметра:
	<ul>
	<li><code>request</code> - запрос на подпись сертификата (в виде строки с содержимым запроса);</li>
		<li><code>ip</code> - IP-адрес (уникальный сетевой адрес узла в компьютерной сети);</li>
		<li><code>mac</code> - MAC-адрес (уникальный идентификатор, присваиваемый каждой единице оборудования компьютерных сетей);</li>
		<li><code>client_type</code> - тип клиента (console или gui).</li>
	</ul></p>
	</blockquote>


	<blockquote>
		<p>Возвращает номер запроса или значение "-1" в случае ошибки.</p>
	</blockquote>


	<ul>
	<li><strong>post_server_request</strong> - отправить серверный запрос на подпись сертификата, Вызов этого метода передаёт на сервер утилит запрос на подпись сертификата от другого сервера утилит.</li>
	</ul>


	<blockquote>
		<p>Имеет три входных параметра:
	<ul>
	<li><code>request</code> - запрос на подпись сертификата (в виде строки с содержимым запроса);</li>
		<li><code>ip</code> - IP-адрес;</li>
		<li><code>mac</code> - MAC-адрес;</li>
	</ul></p>
	</blockquote>


	<blockquote>
		<p>Возвращает номер запроса или значение "-1" в случае ошибки.</p>
	</blockquote>


	<ul>
	<li><strong>get_client_cert</strong> - забрать подписанный сертификат клиента с сервера утилит.</li>
	</ul>


	<blockquote>
		<p>Имеет два входных параметра:
	<ul>
	<li><code>req_id</code> - номер запроса (уникальный номер запроса на сервере утилит, выдаётся при вызове метода post_client_request).</li>
		<li><code>request</code> - запрос на подпись сертификата. Необходим для проверки с ранее сохранённым.</li>
	</ul></p>
	</blockquote>


	<blockquote>
		<p>Возвращает значение "1", если запрос был отвергнут или не найден на сервере, значение "2", если сертификата не существует (запрос ещё не был подписан). В случае подписания возвращает список из двух сертификатов - сертификат клиента и корневой сертификат сервера.</p>
	</blockquote>


	<ul>
	<li><strong>get_server_cert</strong> - забрать подписанный сертификат сервера утилит.</li>
	</ul>


	<blockquote>
		<p>Имеет аналогичные с методом get_client_cert входные и возвращаемые параметры (см. выше).</p>
	</blockquote>


	<ul>
	<li><strong>get_ca</strong> - получить корневой сертификат сервера утилит.</li>
	</ul>


	<blockquote>
		<p>возвращает "1", если в сертификате сервера утилит нет поля "CN", значение "2", если не найден сертификат, которым подписан сертификат сервера, иначе возвращает сертификат, которым подписан сертификат сервера.</p>
	</blockquote>


	<ul>
	<li><strong>get_crl</strong> - получить список отзыва сертификатов.</li>
	</ul>


	<blockquote>
		<p>Возвращает содержимое списка отзывов сертификатов или значение " ".</p>
	</blockquote>


	<ul>
	<li><strong>post_cert</strong> - проверка сертификата на сервере. Вызывается при установке соединения для проверки наличия сертификата клиента на сервере и проверки сертификата на срок годности. Используется для графических клиентов, для консольных используется метод init_session.</li>
	</ul>


	<blockquote>
		<p>Не имеет входных параметров. Возвращает список целочисленных значений: номер сертификата и значение годности сертификата (принимает значения: "-2" - срок годности истёк, "-1" - срок годности более 2-х месяцев или количество дней до истечении срока годности). Если у клиента нет сертификата возвращает значение [-3], если сертификат клиента не найден на сервере - значение [-4].</p>
	</blockquote>


	<h3 id="Методы-работы-с-сессиями">Методы работы с сессиями<a href="#Методы-работы-с-сессиями" class="wiki-anchor">&para;</a></h3>


	<p>К вспомогательным методам работы с сессиями относятся:</p>


	<ul>
	<li><strong>post_sid</strong> - получение номера сессии с сервера утилит или продолжение незакрытой предыдущей сессии. Также вызов метода устанавливает текущий язык для локализации. Используется графическими клиентами.</li>
	</ul>


	<blockquote>
		<p>Имеет три входных параметра:
	<ul>
	<li><code>sid</code> - номер сессии, хранящийся у клиента. В случае, если сессия не была закрыта, она будет продолжена;</li>
		<li><code>cert_id</code> - номер сертификата;</li>
		<li><code>lang</code> - текущий язык клиента.</li>
	</ul></p>
	</blockquote>


	<blockquote>
		<p>Возвращает список из двух целочисленных значений: номера сессии и признака продолжения старой сессии (1 - новая сессия, 0 - старая сессия).</p>
	</blockquote>


	<ul>
	<li><strong>del_sid</strong> - закрытие (удаление) удаление сессии на сервере утилит.</li>
	</ul>


	<blockquote>
		<p>Имеет единственный входной параметр sid - идентификатор (номер) сессии.</p>
	</blockquote>


	<blockquote>
		<p>Возвращает значение ['0'] при успешном закрытии сессии.</p>
	</blockquote>


	<ul>
	<li><strong>get_sessions</strong> - получения списка текущих сессий на сервере утилит.</li>
	</ul>


	<blockquote>
		<p>Имеет один входной параметр sid - номер своей сессии, необходимый для проверки соответствия сертификату.</p>
	</blockquote>


	<blockquote>
		<p>Возвращает значение [''], если сессия не соответствует сертификату, иначе список всех активных сессий на сервере утилит.</p>
	</blockquote>


	<ul>
	<li><strong>sid_info</strong> - получить информацию по выбранной сессии.</li>
	</ul>


	<blockquote>
		<p>Имеет один входной параметр sid - номер сессии.</p>
	</blockquote>


	<blockquote>
		<p>Возвращает список значений: номер сертификата, дату подписания сертификата, ip-адрес, mac-адрес и тип клиента при указанные при генерации сертификата, а также значение, актив на ли сессия ('0' - активна, иначе - нет).</p>
	</blockquote>


	<ul>
	<li><strong>init_session</strong> - установка начального соединения консольного клиента. Выполняет проверку сертификата клиента и получает номер сессии (или продолжает незакрытую сессию). Аналогичен действиям методов post_sid и post_cert для графических клиентов.</li>
	</ul>


	<blockquote>
		<p>Имеет два входных параметра:
	<ul>
	<li><code>sid</code> - номер сессии, хранящийся у клиента. В случае, если сессия не была закрыта, она будет продолжена;</li>
		<li><code>lang</code> - текущий язык клиента.</li>
	</ul></p>
	</blockquote>


	<blockquote>
		<p>Возвращает кортеж (список) из двух списков:
	<ul>
	<li>первый - список целочисленных значений: номер сертификата и значение годности сертификата (принимает значения: "-2" - срок годности истёк, "-1" - срок годности более 2-х месяцев или количество дней до истечении срока годности). Если у клиента нет сертификата возвращает значение [-3], если сертификат клиента не найден на сервере - значение [-4].</li>
		<li>второй список из двух целочисленных значений: номера сессии и признака продолжения старой сессии (1 - новая сессия, 0 - старая сессия).</li>
	</ul></p>
	</blockquote>


	<h3 id="Методы-работы-с-процессами">Методы работы с процессами<a href="#Методы-работы-с-процессами" class="wiki-anchor">&para;</a></h3>


	<p>К вспомогательным методам работы с процессами относятся:</p>


	<ul>
	<li><strong>list_pid</strong> - получить список запущенных процессов (а так же завершивших работу, но принадлежащих данной сессии).</li>
	</ul>


	<blockquote>
		<p>Имеет один входной параметр <code>sid</code> - номер текущей сессии.</p>
	</blockquote>


	<blockquote>
		<p>Возвращает список номеров запущенных процессов или значение [0].</p>
	</blockquote>


	<ul>
	<li><strong>pid_info</strong> - информация по текущему процессу.</li>
	</ul>


	<blockquote>
		<p>Имеет два входных параметра:
	<ul>
	<li><code>sid</code> - номер текущей сессии;</li>
		<li><code>pid</code> - номер процесса, по которому необходимо просмотреть информацию.</li>
	</ul></p>
	</blockquote>


	<blockquote>
		<p>Возвращает список значений: идентификатор (номер) процесса, статус процесса ('1' - активен, '0' - завершён, иначе прерван или завершён с ошибкой), время запуска процесса, имя процесса (запустившей его функции), имя rpc метода процесса.</p>
	</blockquote>


	<p><strong>pid_kill</strong> - завершить (прервать) выполняющийся процесс.</p>


	<blockquote>
		<p>Имеет два параметра, аналогичных методу pid_info.</p>
	</blockquote>


	<blockquote>
		<p>Возвращает значение -2, если сессия не соответствует сертификату, значение 3, если нет такого процесса на сервере утилит, значение 1, если не удалось послать процессу сигнал завершения и значение 0, если процессу послан сигнал завершения.</p>
	</blockquote>


	<p><strong>Для получения информации от выполняющихся процессов</strong> используются следующие методы: get_entire_frame, get_frame, get_progress, get_table и send_message. Методы get_entire_frame, get_frame и send_message возвращают данные типа Message (или массив таких данных).</p>


Возвращаемый сервером утилит тип Message служит для сообщения клиенту информации о работе запущенного процесса. Добавление таких сообщений процессом описано ранее в разделе "Основные модули" -> "Метод процесса". Каждый объект типа Message состоит из следующих полей:
	<ol>
	<li><code>type</code> - тип сообщения ("error", "warning", "table", "startTask" и другие);</li>
		<li><code>message</code> - передаваемое сообщение;</li>
		<li><code>id</code> - уникальный номер (идентификатор), служащий для указания номера таблицы, номера значения прогресса или  количества частей всех заданий и количество частей для каждого задания.</li>
	</ol>


	<ul>
	<li><strong>get_entire_frame</strong> - получить список всех сообщений процесса.</li>
	</ul>


	<blockquote>
		<p>Имеет два входных параметра:
	<ul>
	<li><code>sid</code> - номер сессии;</li>
		<li><code>pid</code> - номер выполняющегося процесса.</li>
	</ul></p>
	</blockquote>


	<blockquote>
		<p>Возвращает массив объектов типа Message.</p>
	</blockquote>


	<ul>
	<li><strong>get_frame</strong> - получить список новых (неполученных ранее) сообщений процесса.</li>
	</ul>


	<blockquote>
		<p>Входные и возвращаемые значения аналогичны параметрам метода get_entire_frame.</p>
	</blockquote>


	<ul>
	<li><strong>get_progress</strong> - получение значения прогресса для текущей задачи.</li>
	</ul>


	<blockquote>
		<p>Имеет три входных параметра:
	<ul>
	<li><code>sid</code> - номер сессии;</li>
		<li><code>pid</code> - номер процесса;</li>
		<li><code>id</code> - идентификатор прогресса задачи.</li>
	</ul></p>
	</blockquote>


	<blockquote>
		<p>Возвращает объект типа ReturnProgress, состоящий из полей:
	<ul>
	<li><code>percent</code> - целочисленное значение прогресса (процент);</li>
		<li><code>short_message</code> - короткое сообщение для текущего прогресса;</li>
		<li><code>long_message</code> - полное сообщение для текущего прогресса.</li>
	</ul></p>
	</blockquote>


	<ul>
	<li><strong>get_table</strong> - получить таблицу с сервера утилит.</li>
	</ul>


	<blockquote>
		<p>Имеет аналогичные с методом get_progress параметры, где id - идентификатор таблицы для процесса.</p>
	</blockquote>


	<blockquote>
		<p>Возвращает объект типа Table, включающий в себя поля:
	<ul>
	<li><code>head</code> - шапка таблицы (список строк);</li>
		<li><code>onClick</code> - имя метода, вызываемого при нажатии на строку таблицы.</li>
		<li><code>fields</code> - имена полей (список строк), для передачи в вызываемый метод, имя которого указано в поле onClick. Номер поля в списке соответствует номеру столбца, из которого будет присвоено значение. Указывается только совместно с полем onClick;</li>
		<li><code>body</code> - тело таблицы (двумерный массив строк);</li>
		<li><code>addAction</code> - имя метода, отвечающего за добавление строки таблицы. Поле используется для графических клиентов, добавляет кнопку плюс "+" над таблицей, при нажатии на которую вызывается метод.</li>
		<li><code>values</code> - список объектов типа ChoiceValue, в методах printTable и get_table не используется (поле используется только в таблицах, передаваемых в составе объекта ViewInfo);</li>
	</ul></p>
	</blockquote>


	<ul>
	<li><strong>send_message</strong> - Отослать сообщение на сервер утилит. Посылает ответ на запросы процесса, осуществляемые вызовом методов askQuestion и askPassword.</li>
	</ul>


	<blockquote>
		<p>Имеет три входных параметра:
	<ul>
	<li><code>sid</code> - номер сессии;</li>
		<li><code>pid</code> - номер процесса;</li>
		<li><code>text</code> - текст ответа.</li>
	</ul></p>
	</blockquote>


	<blockquote>
		<p>Возвращает объект типа Message</p>
	</blockquote>


	<h3 id="Методы-работы-с-кэшем">Методы работы с кэшем<a href="#Методы-работы-с-кэшем" class="wiki-anchor">&para;</a></h3>


	<p>Для работы с <noindex><a href="http://ru.wikipedia.org/wiki/Cache" rel="nofollow" target="_blank" class="external">кэшем</a></noindex> существует три метода, позволяющих на разных уровнях очищать текущие данные:</p>


	<ul>
	<li><strong>clear_session_cache</strong> - очищает кэш для всей сессии.</li>
	</ul>


	<blockquote>
		<p>Имеет один параметр sid - номер сессии.</p>
	</blockquote>


	<blockquote>
		<p>Возвращает 1 в случае ошибки и 0 при успешной очистке кэша сессии.</p>
	</blockquote>


	<ul>
	<li><strong>clear_method_cache</strong> - очищает кэш метода, принадлежащего данной сессии. Кэш метода создаётся до запуска процесса и хранит значение параметров, передаваемых от клиента серверу утилит.</li>
	</ul>


	<blockquote>
		<p>Метод <code>clear_method_cache</code> имеет два входных параметра:
	<ul>
	<li><code>sid</code> - номер сессии.</li>
		<li><code>method_name</code> - имя метода.</li>
	</ul></p>
	</blockquote>


	<blockquote>
		<p>Возвращает 1 в случае ошибки и 0 при успешной очистке кэша метода.</p>
	</blockquote>


	<ul>
	<li><strong>clear_pid_cache</strong> - очищает кэш процесса. После завершения работы процесс хранит все данные о своей работе, чтобы пользователь мог просмотреть результаты.</li>
	</ul>


	<blockquote>
		<p>Метод clear_pid_cache имеет два входных параметра:
	<ul>
	<li><code>sid</code> - номер сессии;</li>
		<li><code>pid</code> - номер процесса.</li>
	</ul></p>
	</blockquote>


	<blockquote>
		<p>Возвращает значение 1 в случае ошибки, значение 2 при отсутствии номера процесса в списке номеров процессов сессии и 0 при успешной очистке кэша процесса.</p>
	</blockquote>


	<h3 id="Прочие-вспомогательные-методы">Прочие вспомогательные методы<a href="#Прочие-вспомогательные-методы" class="wiki-anchor">&para;</a></h3>


	<p>К методам, не попавшим не в одну из предыдущих групп относятся:</p>


	<ul>
	<li><strong>get_methods</strong> - получение всех доступных (по правам сертификата) методов на сервере утилит.</li>
	</ul>


	<blockquote>
		<p>Имеет два входных параметра:
	<ul>
	<li><code>sid</code> - номер сессии;</li>
		<li><code>client_type</code> - тип клиента (gui или console).</li>
	</ul></p>
	</blockquote>


	<blockquote>
		<p>Метод get_methods возвращает список данных о каждом методе, каждое из которых в свою очередь тоже являются списком из трёх элементов: название символической ссылки на метод (для запуска через cl-core), название rpc метода (для запуска с помощью клиентов) и отображаемое название метода.<br />Например:<br /><pre>
[
 [cl-install, install, Установка системы],
 [cl-core-del-request, core_del_request, Удаление запроса],
 ...
]
</pre></p>
	</blockquote>


	<ul>
	<li><strong>get_server_host_name</strong> - получение имени хоста, на котором находится сервер утилит.</li>
	</ul>


	<blockquote>
		<p>Не имеет входных параметров, возвращает имя хоста (hostname) сервера утилит, записанное в его сертификате.</p>
	</blockquote>


	<ul>
	<li><strong>active_client</strong> - метод используется для графических клиентов, позволяет определить наличие постоянного соединения с каждой из сторон, а так же был ли перезагружен сервер (при этом необходимо переустановить соединение).</li>
	</ul>


	<blockquote>
		<p>Имеет один входной параметр sid - номер сессии.</p>
	</blockquote>


	<blockquote>
		<p>Возвращает:
	<ul>
	<li>значение 0, если обновление информации о сессии прошло успешно.</li>
		<li>значение 1 в случае ошибки;</li>
		<li>значение 2, если клиентом послан неверный идентификатор сессии.</li>
	</ul></p>
	</blockquote>
</body>
</html>

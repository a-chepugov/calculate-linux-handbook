<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>emerge</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style>
body { font:80% Verdana,Tahoma,Arial,sans-serif; }
h1, h2, h3, h4 {  font-family: "Trebuchet MS",Georgia,"Times New Roman",serif; }
ul.toc { padding: 4px; margin-left: 0; }
ul.toc li { list-style-type:none; }
ul.toc li.heading2 { margin-left: 1em; }
ul.toc li.heading3 { margin-left: 2em; }
a.wiki-anchor { display: none; margin-left: 6px; text-decoration: none; }
a.wiki-anchor:hover { color: #aaa !important; text-decoration: none; }
h1:hover a.wiki-anchor, h2:hover a.wiki-anchor, h3:hover a.wiki-anchor { display: inline; color: #ddd; }
pre {font-size:133% }
</style>
</head>
<body>
<h1 id="EMERGE">EMERGE<a href="#EMERGE" class="wiki-anchor">&para;</a></h1>


	<h2 id="НАЗВАНИЕ">НАЗВАНИЕ<a href="#НАЗВАНИЕ" class="wiki-anchor">&para;</a></h2>


	<p>emerge - консольный интерфейс к системе портежей</p>


	<h2 id="СИНТАКСИС">СИНТАКСИС<a href="#СИНТАКСИС" class="wiki-anchor">&para;</a></h2>


	<p><strong>emerge</strong></p>


	<p style="padding-left:4em;">[<em>опции</em>] [<em>действие</em>] [<em>ебилд</em> | <em>архив tbz2</em> | <em>файл</em> | <em>@сет</em> | <em>атом</em>] ...</p>


	<p><strong>emerge</strong></p>


	<p style="padding-left:4em;"><strong>--sync</strong> | <strong>--version</strong></p>


	<p><strong>emerge</strong></p>


	<p style="padding-left:4em;"><strong>--info</strong> [<em>атом</em>]</p>


	<p><strong>emerge</strong></p>


	<p style="padding-left:4em;"><strong>--search</strong> <em>строка</em></p>


	<p><strong>emerge</strong></p>


	<p style="padding-left:4em;"><strong>--help</strong> [<strong>--verbose</strong>]</p>


	<h2 id="ОПИСАНИЕ">ОПИСАНИЕ<a href="#ОПИСАНИЕ" class="wiki-anchor">&para;</a></h2>


	<p><strong>emerge</strong> - это полный интерфейс командной строки к системе портежей. Он используется прежде всего для установки пакетов, причем <strong>emerge</strong> умеет автоматически обрабатывать любые зависимости пакета. <strong>emerge</strong> может также обновлять <strong>дерево портежей</strong>, делая новые и обновленные пакеты доступными для установки. Утилита обеспечивает беспроблемное обновление уже установленных пакетов до новых версий. Она работает как с исходными кодами, так и с бинарными пакетами, а также может быть использована для создания собственных бинарных пакетов для дальнейшего распространения.</p>


	<h2 id="ЕБИЛДЫ-АРХИВЫ-СЕТЫ-И-АТОМЫ">ЕБИЛДЫ, АРХИВЫ, СЕТЫ И АТОМЫ<a href="#ЕБИЛДЫ-АРХИВЫ-СЕТЫ-И-АТОМЫ" class="wiki-anchor">&para;</a></h2>


	<p>Основное назначение <strong>emerge</strong> - установка пакетов. Пакеты можно задать одним из следующих способов: как <em>атом</em>, как <em>сет</em>, как установленный <em>файл</em>, как <em>ебилд</em> или как архив <em>tbz2</em>.</p>


	<p><strong>ебилд</strong></p>


	<p style="padding-left:4em;"><em>Ебилд</em> должен быть задан, как минимум, в виде допустимого имени каталога пакетов Portage, как без указания версии или категории, например, <strong>portage</strong> или <strong>python</strong>, так и с добавлением таковых, например, <strong>sys-apps/portage</strong> или <strong>=python-2.2.1-r2</strong>. <strong>emerge</strong> игнорирует завершающую косую черту, поэтому можно использовать автоматическое завершение имени файла. Значением <em>ебилда</em> может быть и фактическое имя файла, например, <strong>/usr/portage/app-admin/python/python-2.2.1-r2.ebuild</strong>. <strong>ВНИМАНИЕ:</strong> на данный момент синтаксис <strong>emerge /путь/к/ебилду</strong> не работает и не может быть использован.</p>


	<p><strong>архив tbz2</strong></p>


	<p style="padding-left:4em;">Архив <em>tbz2</em> должен быть корректным файлом с расширением .tbz2, созданным с помощью команды <strong>ebuild &lt;пакет&gt;-&lt;версия&gt;.ebuild package</strong>, <strong>emerge --buildpkg  [категория/]&lt;пакет&gt;</strong> или <strong>quickpkg /var/db/pkg/&lt;категория&gt;/&lt;пакет&gt;</strong>.</p>


	<p><strong>файл</strong></p>


	<p style="padding-left:4em;"><em>Файл</em> должен быть файлом или каталогом, установленным одним или несколькими пакетами. Если не используется абсолютный путь, файл в аргументе следует задавать с префиксом "./" или "../". Для каталогов, которые принадлежат нескольким пакетам, должны быть выбраны все эти пакеты. Если вы хотите запросить владельца одного или нескольких файлов или каталогов, см. команду portageq(1).</p>


	<p><strong>сет</strong></p>


	<p style="padding-left:4em;"><em>Сет</em> - удобный способ обозначить большую группу пакетов.В настоящее время поддерживаются три сета пакетов, которые доступны всегда: <strong>selected</strong>, <strong>system</strong> и <strong>world</strong>. Сет <strong>selected</strong> содержит определенные пользователем world-пакеты, которые перечислены в файле <strong>/var/lib/portage/world</strong>, и вложенные сеты, которые могут быть указаны в файле <strong>/var/lib/portage/world_sets</strong>. Сет <strong>system</strong> содержит набор пакетов, которые считаются необходимыми для правильной работы системы. Сет <strong>world</strong> включает пакеты как из <strong>selected</strong>, так и из <strong>system</strong>. [Подробнее см. ниже в разделе <strong>ФАЙЛЫ</strong>.] В зависимости от конфигурации системы, могут быть доступны и другие сеты. Конфигурация сетов по умолчанию находится в каталоге <strong>/usr/share/portage/config/sets</strong>. Обратите внимание, что <em>сет</em> в аргументе <strong>emerge</strong> используется, как правило, при выполнении действия <strong>--update</strong>. Для корректного распознавания сеты должны иметь префикс <strong>@</strong>. Если вы хотите просмотреть список доступных сетов, используйте действие <strong>--list-sets</strong>.</p>


	<p><strong>атом</strong></p>


	<p style="padding-left:4em;"><em>Атом</em> описывает ограничения на пакет, который необходимо установить. <em>Подробнее о синтаксисе атомов см. <strong><a href="ebuild.html" class="wiki-page">ebuild</a></strong>(5).</em> Например, <strong>>=dev-lang/python-2.2.1-r2</strong> соответствует последней доступной версии Python не ниже 2.2.1-r2. Аналогично,  <strong>&lt;dev-lang/python-2.0</strong> соответствует последней доступной версии Python ниже 2.0. Учтите, что во многих командных интерпретаторах такие символы как '<' и '=' требуют маскировки; чтобы избежать проблем, <em>атом</em> следует заключать в одинарные или двойные кавычки.</p>


	<h2 id="ДЕЙСТВИЯ">ДЕЙСТВИЯ<a href="#ДЕЙСТВИЯ" class="wiki-anchor">&para;</a></h2>


	<p><strong>Нет действия</strong></p>


	<p style="padding-left:4em;">Если не указано никакого действия, подразумевается, что пакеты в аргументе будут установлены, а все их зависимости - удовлетворены. В качестве аргументов могут указываться <em>атомы</em>, <em>сеты</em>, <em>файлы</em>, <em>ебилды</em> или <em>архивы tbz2</em>. <strong>Заметьте, что для установки архива tbz2 необходимо использовать также опцию --usepkg</strong>. В конце установки пакеты будут добавлены в файл <strong>world</strong> - и, следовательно, будут учитываться при последующих обновлениях.</p>


	<p><strong>--check-news</strong></p>


	<p style="padding-left:4em;">Проверяет все репозитории на наличие непрочитанных новостей GLEP 42 и подсчитывает найденные. См. <em><noindex><a class="external" href="http://www.gentoo.org/proj/en/glep/glep-0042.html" ref="nofollow">http://www.gentoo.org/proj/en/glep/glep-0042.html</a></noindex></em>.</p>


	<p><strong>--clean</strong></p>


	<p style="padding-left:4em;">Очищает систему: просматривает установленные пакеты и удаляет устаревшие. <strong>Будут удалены все пакеты, кроме последней установленной версии в каждом слоте</strong>. Команда не удаляет пакеты, существующие в единственном экземпляре. Примечание: Под последней установленной версией подразумевается версия, которая <strong>была установлена последней</strong>, а не обязательно последняя выпущенная разработчиками.</p>


	<p><strong>--config </strong></p>


	<p style="padding-left:4em;">Запускает специфичные для пакета действия, требующие выполнения после завершения процесса установки. Как правило, это редактирование файлов конфигурации и установка других пользовательских настроек.</p>


	<p><strong>--depclean (-c)</strong></p>


	<p style="padding-left:4em;">Чистит систему, удаляя все пакеты, не связанные с установленными. Утилита работает следующим образом: на основе сета @world генерируется полное дерево зависимостей, которое затем сопоставляется с установленными пакетами. Если пакет установлен, но его нет в дереве зависимостей, он будет удален. Для изменения поведения depclean в отношении зависимостей времени выполнения, не являющихся необходимыми, используйте <strong>--with-bdeps</strong>. Утилита не удаляет пакеты, содержащиеся в сете world; при необходимости вы можете вручную добавлять пакеты в этот сет с помощью команды <em>emerge --noreplace &lt;атом&gt;</em>. Кроме того, в целях предосторожности depclean не пытается удалять пакеты до тех пор, пока не будут удовлетворены <strong>все</strong> необходимые зависимости. Поэтому перед выполнением depclean часто бывает необходимо запустить команду <em>emerge --update --newuse --deep @world</em>. Обратите также внимание, что использование данной утилиты может привести к тому, что пакеты, связанные с удаленными, перестанут работать, особенно если не включена опция <strong>--depclean-lib-check</strong>. Для обнаружения некорректных ссылок рекомендуется использовать утилиту <strong><a href=".html" class="wiki-page">revdep-rebuild</a></strong>(1).</p>


	<p style="padding-left:4em;"><strong>ВНИМАНИЕ:</strong> Новичкам рекомендуется выполнять данное действие с ключом <strong>--pretend</strong> для предварительного просмотра списка пакетов на удаление. Изучение этого списка позволит избежать очевидных ошибок. Заметьте, что пакеты, перечисленные в файле package.provided (см. <strong><a href=".html" class="wiki-page">portage</a></strong>(5)), могут быть удалены при использовании depclean - даже если они являются частью сета world.</p>


	<p style="padding-left:4em;">Depclean работает аналогично <strong>--unmerge</strong>, но с той разницей, что учитывает зависимости. С одним или несколькими атомами в аргументах утилита удалит все сопоставленные этим атомам пакеты, не имеющие обратных зависимостей. Для вывода списка обратных завимостей выполните <strong>--depclean</strong> с ключом с <strong>--verbose</strong>.</p>


	<p><strong>--deselect [ y | n ]</strong></p>


	<p style="padding-left:4em;">Удаляет атомы и/или сеты из файла world. Это действие подразумевается при выполнении удаления, а именно команд <strong>--depclean</strong>, <strong>--prune</strong> и <strong>--unmerge</strong>. Используйте значение <strong>--deselect=n</strong>, если вы не хотите, чтобы одновременно с удалением атом был исключен из файла world.</p>


	<p><strong>--help </strong> <strong>(-h)</strong></p>


	<p style="padding-left:4em;">Выводит справочную информацию для emerge. Более конкретную информацию можно получить, добавив один из перечисленных выше аргументов. Внутренняя документация <strong>emerge</strong> обновляется чаще, чем это руководство; обращайтесь к ней, если у вас возникли проблемы, которые не удалось разрешить с помощью этой man-страницы.</p>


	<p><strong>--info</strong></p>


	<p style="padding-left:4em;">Выдает информацию для включения в отчеты об ошибках. Эта информация помогает разработчикам при решении проблем, о которых вы сообщаете, поэтому <strong>обязательно включайте ее в высылаемую заявку</strong>. Используя ключ <em>--verbose</em>, можно получить расширенную информацию.</p>


	<p><strong>--list-sets</strong></p>


	<p style="padding-left:4em;">Выводит список доступных сетов.</p>


	<p><strong>--metadata</strong></p>


	<p style="padding-left:4em;">Переносит кэш метаданных из ${PORTDIR}/metadata/cache/ в /var/cache/edb/dep/ - как это происходит обычно в конце обновления с помощью rsync при вызове <strong>emerge --sync</strong>. Этот процесс заполняет кэш базы данных, используемый портежем для предварительного поиска данных пакета. Кэш оверлеев, перечисленных в PORTDIR_OVERLAY, не заполняется; для генерации кэша оверлеев используйте ключ <strong>--regen</strong> В версиях портежа 2.1.5 и выше ключ --metadata не нужен, если только пользователь не включил FEATURES="metadata-transfer" в <strong><a href=".html" class="wiki-page">make.conf</a></strong>(5).</p>


	<p><strong>--prune </strong> <strong>(-P)</strong></p>


	<p style="padding-left:4em;">Удаляет из системы все версии пакетов, кроме последних установленных релизов. Для отображения обратных зависимостей используйте с <strong>--prune</strong> ключ <strong>--verbose</strong>. Чтобы игнорировать все зависимости, используйте ключ <strong>--nodeps</strong>. <strong>ВНИМАНИЕ: Это действие может привести к удалению пакетов из файла world! Внимательно проверяйте вывод команды emerge --depclean при следующем запуске! Во избежание проблем используйте  --depclean.</strong></p>


	<p><strong>--regen</strong></p>


	<p style="padding-left:4em;">Используется Portage для проверки и обновления кэша зависимостей всех ебилдов в дереве портежей. Кэш позволяет ускорить поиск и построение дерева зависимостей. Эта команда не рекомендуется, если вы используете rsync, поскольку rsync обновляет кэш на основе кэша со стороны сервера. Если вы не знаете, чем отличается пользователь rsync от остальных пользователей, то, вероятнее всего, вы обновляетесь с помощью rsync :) В этом случае для обновления кэша лучше всего выполнить <strong>emerge --sync</strong>, чтобы обновить кеш. После обновления портежей пользователям rsync целесообразно запустить <strong>emerge --metadata*для перестройки кэша, что и делает в конце выполнения команды синхронизации Portage. Для задания параллельного выполнения *--regen</strong>, используйте опции <strong>--jobs</strong> и <strong>--load-average</strong>. Если вам необходимо создавать и распространять кэш для других пользователей, используйте <strong><a href=".html" class="wiki-page">egencache</a></strong>(1).</p>


	<p><strong>--resume</strong> <strong>(-r)</strong></p>


	<p style="padding-left:4em;">Возобновляет последнюю прерванную установку. Обратите внимание, что, если эта попытка окажется неудачной, программа просто выдаст сообщение об ошибке. Если установки для возобновления нет, portage закончит работу, предварительно сообщив об успешном завершении. Список пакетов, которые не удалось установить, к которому обращается программа, будет сохраняться до тех пор, пока все входящие в него пакеты не будут установлены, либо до замены его новым аналогичным списком. История возврата способна хранить два списка, благодаря чему после успешного исполнения последнего списка можно выполнить действие --повторно, чтобы вернуться ко второму, более раннему списку.</p>


	<p><strong>--search </strong> <strong>(-s)</strong></p>


	<p style="padding-left:4em;">Ищет совпадения переданной строки в дереве портежей. По умолчанию emerge использует простой, нечувствительный к регистру поиск, но вы можете включить поиск по регулярному выражению, поставив в начале строки поиска % . Например, <strong>emerge --search "%^kde"</strong> ищет любой пакет, имя которого начинается с "kde"; <strong>emerge --search "%gcc$"</strong> ищет все пакеты, имена которых заканчиваются на "gcc"; <strong>emerge --search "office"</strong> ищет пакеты, в имени которых содержится "office". Если вы хотите включить категорию в строку поиска, вставьте в начале <code>: *<redpre#56> "%</code>^dev-java.*jdk"<strong>. Если необходимо включить в поиск описание пакетов, используйте опцию *--searchdesc</strong>.</p>


	<p><strong>--searchdesc </strong> <strong>(-S)</strong></p>


	<p style="padding-left:4em;">Сверяет шаблон не только с именем пакета, но и с описание. <strong>Будьте внимательны</strong>, так как описания также сравниваются по регулярным выражениям.</p>


	<p><strong>--sync</strong></p>


	<p style="padding-left:4em;">Запускает обновление дерева портежей, расположенного в каталоге, на который указывает переменная PORTDIR (по умолчанию это /usr/portage).<br />В переменной SYNC указан удаленный URI, с которого будет производиться синхронизация. Переменная <strong>PORTAGE_SYNC_STALE</strong> определяет вид предупреждений, выводимых в случае, когда команда emerge --sync давно не выполнялась.</p>


	<p style="padding-left:4em;"><strong>ВНИМАНИЕ:</strong> Команда emerge --sync изменит и/или удалит файлы в каталоге, на который указывает переменная PORTDIR (по умолчанию это /usr/portage). Более подробную информацию см. раздел о PORTDIR в man-руководстве <strong><a href=".html" class="wiki-page">make.conf</a></strong>(5).</p>


	<p style="padding-left:4em;"><strong>ПРИМЕЧАНИЕ:</strong> Вы можете выкачать всё дерево портежей в виде архива - используйте для этого утилиту <strong>emerge-webrsync</strong>. Это значительно быстрее, чем emerge --sync, и потому удобно для первой синхронизации.</p>


	<p><strong>--unmerge </strong> <strong>(-C)</strong></p>


	<p style="padding-left:4em;"><strong>ВНИМАНИЕ: Это действие может привести к удалению важных пакетов!</strong> Удаляет все совпавшие с запросом пакеты. Зависимости не проверяются, поэтому в результате могут оказаться удалены необходимые для функционирования системы пакетов. Аргументами могут быть <em>атомы</em> либо <em>ебилды</em>. Emerge поддерживает действия, которые аналогичны <strong>--unmerge</strong>, но учитывают зависимости: это <strong>--depclean</strong> и <strong>--prune</strong>.</p>


	<p><strong>--version </strong> <strong>(-V)</strong></p>


	<p style="padding-left:4em;">Выводит номер версии утилиты <strong>emerge</strong>.</p>


	<h2 id="ОПЦИИ">ОПЦИИ<a href="#ОПЦИИ" class="wiki-anchor">&para;</a></h2>


	<p><strong>--accept-properties=ACCEPT_PROPERTIES</strong></p>


	<p style="padding-left:4em;">Эта опция имеет временный приоритет над значением переменной <strong>ACCEPT_PROPERTIES</strong>. <strong>ACCEPT_PROPERTIES</strong> действует по нарастанию - новые настройки прикрепляются к существующему значению, хранящемуся в вашей конфигурации. Для отмены существующей конфигурации и определения нового значения с нуля можно использовать специальный знак <strong>-*</strong>. Подробнее о переменной ACCEPT_PROPERTIES см. в разделе <strong>МАСКИРОВКА ПАКЕТОВ</strong> настоящего руководства и man-страницу <strong><a href=".html" class="wiki-page">make.conf</a></strong>(5). Примером типичного применения этой опции может быть <em>--accept-properties=-interactive</em> для временной маскировки интерактивных пакетов. Если используются настройки по умолчанию, в результате <strong>ACCEPT_PROPERTIES</strong> примет значение "* -interactive".</p>


	<p><strong>--alphabetical </strong></p>


	<p style="padding-left:4em;">При выводе USE и других флагов сводит включенные и выключенные флаги в один список и сортирует их по алфавиту.</p>


	<p><strong>--ask [ y | n ] (сокращенно -a)</strong></p>


	<p style="padding-left:4em;">Прежде чем выполнять действие, отображает предполагаемый результат (информация о сервере в случае действия <strong>--sync</strong>, вывод с помощью <strong>--pretend</strong> пакетов, которые будут установлены, и т.д.), а затем спрашивает, продолжить действие или прервать. Использование --ask@ более эффективно, чем --pretend с последующим вызовом той же команды без --pretend, т.к. вычисление зависимостей произойдет всего один раз. ПРЕДУПРЕЖДЕНИЕ: Если в командной строке был нажат "Enter" (без дополнительного ввода), он будет интерпретирован как одобрение первого варианта. Обратите внимание, что буфер ввода не очищается перед запросом на ввод, поэтому случайное нажатие клавиши "Enter" до приглашения для ввода будет воспринято как сделанный выбор!<br />Выводит сообщение о предстоящих действиях перед началом их выполнения (информация о сервере для <strong>--sync</strong>, вывод <strong>--pretend</strong> для установки и т.п.), после чего предлагает пользователю решить, следует ли продолжить или прервать выполнение программы. Опция <strong>--ask</strong> предпочтительнее, чем  <strong>--pretend</strong> с последующим вызовом той же команды без опции <strong>--pretend</strong>, поскольку при использовании --ask зависимости будут вычисляться только один раз. <strong>ВНИМАНИЕ: если нажать клавишу "Enter" при выборе (и больше ничего не нажимать), программа интерпретирует это как выбор первого пункта. Обратите внимание, что буфер ввода не очищается перед новым запросом, поэтому случайное нажатие "Enter" в любой момент перед запросом ввода также будет воспринято как выбор! Используйте опцию --ask-enter-invalid, если вы хотите, чтобы однократное нажатие клавиши "Enter" интепретировалось как ошибка ввода.</strong></p>


	<p><strong>--ask-enter-invalid</strong></p>


	<p style="padding-left:4em;">При использовании совместно с опцией <strong>--ask</strong> делает так, что однократное нажатие клавиши "Enter" воспринимается программой как ошибка ввода. Это позволяет избежать автоматического выбора первого пункта из списка в случае случайного нажатия. Эту опцию следует прописать в файле <strong>make.conf</strong>(5), в переменной <strong>EMERGE_DEFAULT_OPTS</strong>.</p>


	<p><strong>--autounmask [ y | n ]</strong></p>


	<p style="padding-left:4em;">Автоматически размаскирует пакеты и сгенерирует необходимые для удовлетворения зависимостей настройки в package.use. Данная опция включена по умолчанию.Если необходимо изменить конфигурацию, требуемые изменения будут выведены вслед за списком пакетов, назначенных на установку, после чего emerge сразу же прервет работу. Если предлагаемые изменения конфигурации вас удовлетворяют, вам следует скопировать и вставить их в предопределенный конфигурационный файл(файлы) либо включить опцию <strong>--autounmask-write</strong>. Эту опцию можно отключить глобально, изменив переменную <strong>EMERGE_DEFAULT_OPTS</strong> в файле <strong>make.conf</strong>(5).</p>


	<p><strong>--autounmask-unrestricted-atoms [ y | n ]</strong></p>


	<p style="padding-left:4em;">Если включен параметр --autounmask, будут записываться все изменения ключевых слов и масок с использованием оператора =. С этой опцией можно в любой подходящий момент использовать операторы >=. При изменении USE-флагов и лицензии всегда будут учитываться последние установленные настройки.</p>


	<p><strong>--autounmask-keep-masks [ y | n ]</strong></p>


	<p style="padding-left:4em;">Если включен параметр --, файлы package.unmask и **.keyword не будут изменены. Результатом этого могут стать неудовлетворенные зависимости, если не разрешить их другим способом.</p>


	<p><strong>--autounmask-write [ y | n ]</strong></p>


	<p style="padding-left:4em;">Если включен параметр --, изменения записываются в конфигурационные файлы, с учетом переменной <strong>CONFIG_PROTECT</strong> и опции <strong>--ask</strong>. Если соответствующий элемент package.* - файл, изменения будут записаны в этот файл; если это каталог, изменения будут сохранены в последний по списку файл. Это сделано для того, чтобы последние изменения всегда имели приоритет перед более ранними.</p>


	<p><strong>--backtrack=COUNT</strong></p>


	<p style="padding-left:4em;">Целое значение, обозначает количество обращений к системе контроля ошибок, в случае если определение зависимостей завершается ошибкой по причине конфликта или неразрешенной зависимости (значение по умолчанию: 10).</p>


	<p><strong>--binpkg-respect-use [ y | n ]</strong></p>


	<p style="padding-left:4em;">Указывает emerge игнорировать бинарные пакеты, если их USE-флаги не соответствуют текущей конфигурации(по умолчанию: n).</p>


	<p><strong>--buildpkg [ y | n ] (сокращенно -b)</strong></p>


	<p style="padding-left:4em;">Указывает emerge собирать бинарные пакеты для всех обработанных ебилдов, а не только разворачивать. Эта опция удобна для мейнтейнеров и для администраторов нескольких систем под Gentoo Linux (собираете один раз, а в дальнейшем разворачиваете везде из tbz2-архива), а также для восстановления системы. Пакет будет создан в каталоге <strong>PKGDIR</strong> (см. <strong>make.conf</strong>(5)). Альтернативой для использования готовых бинарных пакетов может стать использование утилиты <strong>quickpkg</strong>(1), которая позволяет создать архив tbz2 на основе файлов из вашей системы.</p>


	<p><strong>--buildpkg-exclude </strong> <strong>АТОМЫ</strong></p>


	<p style="padding-left:4em;">Аргументом является список, через пробел, атомов пакетов, назначенных для сборки. Эта опция перезапишет другие доступные способы выбора бинарных пакетов для установки.</p>


	<p><strong>--buildpkgonly </strong> <strong>(сокращенно -B)</strong></p>


	<p style="padding-left:4em;">Создает бинарные пакеты для всех обработанных ебилдов без установки - при условии, что все зависимости времени построения уже установлены в системе.</p>


	<p><strong>--changed-use</strong></p>


	<p style="padding-left:4em;">Это алиас опции <strong>--reinstall=changed-use</strong>.</p>


	<p><strong>--changelog </strong> <strong>(сокращенно -l)</strong></p>


	<p style="padding-left:4em;">Используйте эту опцию в связке с <strong>--pretend</strong>. Будут выведены записи ChangeLog для всех пакетов, подлежащих обновлению.</p>


	<p><strong>--color &lt; y | n &gt;</strong></p>


	<p style="padding-left:4em;">Включает или выключает цветной вывод. Эта опция имеет приоритет над значением переменной <em>NOCOLOR</em> (см. <strong>make.conf</strong>(5)) и может использоваться также для принудительного цветного вывода, когда стандартный вывод - не терминал (по умолчанию цветной вывод отключен, если стандартный вывод идет не на терминал).</p>


	<p><strong>--columns</strong></p>


	<p style="padding-left:4em;">При использовании в связке с <strong>--pretend</strong> название пакета, его новая и прежняя версии отображаются в выровненном формате, удобном для копирования.</p>


	<p><strong>--complete-graph [ y | n ]</strong></p>


	<p style="padding-left:4em;">Указывает <strong>emerge</strong> учитывать глубокие зависимости пакетов из сета world. С этой опцией <strong>emerge</strong> будет остановлен, если выполняемая операция будет нарушать зависимости, входящие в граф. Наравне с опцией <strong>--deep</strong>, опция <strong>--complete-graph</strong> значительно увеличивает время, затрачиваемое на нахождение зависимостей. Однако заметьте, что, в отличие от опции <strong>--deep</strong>, <strong>--complete-graph</strong> не принуждает к обновлению другие пакеты, которые были бы обновлены, будь эта опция отключена.</p>


	<p><strong>--complete-graph-if-new-ver &lt; y | n &gt;</strong></p>


	<p style="padding-left:4em;">Включает опцию <strong>--complete-graph</strong>, если предполагается изменение версии устанавленного пакета (обновление или откат). По умолчанию включено.</p>


	<p><strong>--config-root=DIR</strong></p>


	<p style="padding-left:4em;">Устанавливает переменную окружения <strong>PORTAGE_CONFIGROOT</strong>.</p>


	<p><strong>--debug </strong> <strong>(сокращенно -d)</strong></p>


	<p style="padding-left:4em;">Указывает emerge запустить команду сборки в режиме отладки. В этом режиме окружение сборки bash будет запущено с опцией -x, которая выдает подробную отладочную информация на стандартный вывод. Будет включена и другая обширная информация (главным образом сообщения о разрешении зависимостей).</p>


	<p><strong>--deep [DEPTH] </strong> <strong>(сокращенно -D)</strong></p>


	<p style="padding-left:4em;">Этот флаг принудительно указывает <strong>emerge</strong> считывать полное дерево зависимостей пакетов вместо проверки прямых зависимостей. Например, это позволяет обнаружить обновления библиотек, не связанные напрямую с пакетом. См. также <strong>--with-bdeps</strong> для изменения поведения в отношении нестрогих зависимостей времени построения.</p>


	<p><strong>--depclean-lib-check [ y | n ]</strong></p>


	<p style="padding-left:4em;">Обрабатывает библиотечные зависимости в ходе выполнения действий <strong>--depclean</strong> и <strong>--prune</strong>. Эта опция включена по умолчанию, но будет игнорироваться, если в <strong>make.conf</strong>(5) включено FEATURES="preserve-libs", так как в этом случае все библиотеки просто будут сохранены.</p>


	<p><strong>--dynamic-deps &lt; y | n &gt;</strong></p>


	<p style="padding-left:4em;">При определении зависимостей заменяет зависимости установленных пакетов зависимостями соответствующих ебилдов из репозиториев исходных кодов. В результате зависимости установленных пакетов динамически меняются вслед за изменением зависимостей ебилдов. Эта опция включена по умолчанию.</p>


	<p style="padding-left:4em;"><strong>ВНИМАНИЕ:</strong> Если вы хотите отключить опцию --dynamic-deps, для оптимального результата, возможно, сначала понадобится запустить <strong>fixpackages</strong>. Команда <strong>fixpackages</strong> выполняет две различных операции, которые могут быть вызваны и по отдельности: `emaint --fix moveinst` а `emaint --fix movebin` (см. <strong>emaint</strong>(1)).</p>


	<p><strong>--emptytree </strong> <strong>(сокращенно -e)</strong></p>


	<p style="padding-left:4em;">Переустанавливает все атомы с их глубокими зависимостями, как если бы ни одного пакета не было установлено. Сначале рекомендуется запустить эту команду с ключом <strong>--pretend</strong>, дабы убедиться, что она отработает так, как вы ожидаете.</p>


	<p><strong>--exclude </strong> **</p>


	<p style="padding-left:4em;">Список пакетов или атомов, через пробел. Ебилды и бинарные пакеты, совпадающие с запросом, установлены не будут.</p>


	<p><strong>--fail-clean [ y | n ]</strong></p>


	<p style="padding-left:4em;">Удаляет временные файлы, оставшиеся после ошибки сборки. Это особенно удобно, если у вас <strong>PORTAGE_TMPDIR</strong> на файловой системе tmpfs. Если данная опция включена, вероятно, полезным будет включение и <strong>PORT_LOGDIR</strong> (см. <strong>make.conf</strong>(5)), чтобы сохранить журнал сборки.</p>


	<p><strong>--fetchonly </strong> <strong>(сокращенно -f)</strong></p>


	<p style="padding-left:4em;">Вместо сборки пакета будут только загружены файлы для всех пакетов (по значениям SRC_URI, определяемым настройками USE-флагов).</p>


	<p><strong>--fetch-all-uri </strong> <strong>(сокращенно -F)</strong></p>


	<p style="padding-left:4em;">Не будет собирать пакеты, а только загрузит все файлы пакетов (по списку в SRC_URI, независимо от USE-флагов).</p>


	<p><strong>--getbinpkg [ y | n ] (сокращенно -g)</strong></p>


	<p style="padding-left:4em;">Используя сервер и местонахождение, определенные значением переменной <em>PORTAGE_BINHOST</em> (см.  <strong><a href=".html" class="wiki-page">make.conf</a></strong>(5)), portage соберет информацию о каждом обнаруженном бинарном пакете и на ее основе выстроит список зависимостей. Эта опция подразумевает ключ <strong>-k</strong>.  (Чтобы установить только бинарные пакеты, используйте комбинацию опций <strong>-gK</strong>.)</p>


	<p><strong>--getbinpkgonly [ y | n ] (сокращенно -G)</strong></p>


	<p style="padding-left:4em;">Эта опция аналогична описанной выше <strong>-g</strong>, за исключением того, что бинарные пакеты с удаленного сервера предпочитаются локальным, если они не идентичны.</p>


	<p><strong>--ignore-default-opts</strong></p>


	<p style="padding-left:4em;">Значение переменной <em>EMERGE_DEFAULT_OPTS</em> (см. <strong><a href=".html" class="wiki-page">make.conf</a></strong>(5)) будет игнорироваться.</p>


	<p><strong>-j [JOBS], --jobs[=JOBS]</strong></p>


	<p style="padding-left:4em;">Указывает, сколько пакетов будет собираться одновременно. Если задать эту опцию без аргумента, одновременно может выполняться неограниченное количество заданий. Обратите также внимание на родственную опцию <strong>--load-average</strong>. Заметьте, что интерактивные пакеты принудительно выставляют значение <em>--jobs=1</em>. Этого можно временно избежать, указав <em>--accept-properties=-interactive</em>.</p>


	<p><strong>--keep-going [ y | n ]</strong></p>


	<p style="padding-left:4em;">Продолжает установку после ошибки настолько, насколько это возможно. При возникновении ошибки зависимости для остальных пакетов автоматически пересчитываются, все пакеты с неудовлетворенными зависимостями автоматически исключаются. См. также родственную опцию <strong>--skipfirst</strong>.</p>


	<p><strong>--load-average=LOAD</strong></p>


	<p style="padding-left:4em;">При выставленной опции новая сборка не будет начата, пока не завершится предыдущая установка, а  среднее число процессов на исполнение не ниже LOAD (число с плавающей точкой). Данную опцию рекомендуется использовать в связке с <strong>--jobs</strong>, чтобы избежать чрезмерной нагрузки. Информацию об аналогичных опциях, настраиваемых в <strong><a href=".html" class="wiki-page">make.conf</a></strong>(5) через переменную <strong>MAKEOPTS</strong>, см. в документации по <strong>make</strong>(1).</p>


	<p><strong>--misspell-suggestions &lt; y | n &gt;</strong></p>


	<p style="padding-left:4em;">Включает или отключает подсказку в случае ошибки написания. По умолчанию, если пакет, который вы пытаетесь установить, не существует, emerge выводит перечень пакетов с похожими именами. Для отмены этой стандартной опции можно использовать переменную <em>EMERGE_DEFAULT_OPTS</em>.</p>


	<p><strong>--newuse </strong> <strong>(сокращенно -N)</strong></p>


	<p style="padding-left:4em;">Указывает emerge включить в список на установку уже установленные пакеты, в которых с момента предыдущей компиляции изменились USE-флаги. Подразумевает также включение опции <strong>--selective</strong>. Под изменением флагов может иметься в виду, что</p>


	<p style="padding-left:4em;">К пакету был добавлен USE-флаг. USE-флаг был удален из пакета. USE-флаг был включен для пакета. USE-флаг был выключен для пакета.</p>


	<p style="padding-left:4em;">USE-флаги могут быть включены/выключены вашим профилем, а также через в файле package.use и переменную окружения USE. Если вы хотите пропустить пересборку пакетов, для которых отключенные флаги были добавлены или удалены в IUSE, см. родственную опцию --reinstall=changed-use.</p>


	<p><strong>--noconfmem</strong></p>


	<p style="padding-left:4em;">Указывает portage не принимать во внимание записи, указывающие на то, что файлы в каталоге  <strong>CONFIG_PROTECT</strong> уже были установлены. Обычно они устанавливаются лишь единожды, чтобы пользователь не редактировал один и тот же конфигурационный файл несколько раз. С этим ключом файлы будут устанавливаться всегда.</p>


	<p><strong>--nodeps </strong> <strong>(сокращенно -O)</strong></p>


	<p style="padding-left:4em;">Устанавливает указанные пакеты без их зависимостей. Учтите, что без необходимых зависимостей сборка может завершиться ошибкой.</p>


	<p><strong>--noreplace </strong> <strong>(сокращенно -n)</strong></p>


	<p style="padding-left:4em;">Пропускает пакеты, указанные в командной строке, если они уже были установлены. Без этой опции любые пакеты, ебилды или зависимости, указанные вами в качестве аргументов действия, <strong>будут установлены</strong> даже в том случае, если они уже присутствуют в системе. Заметьте, что зависимости по умолчанию не переустанавливаются.</p>


	<p><strong>--nospinner</strong></p>


	<p style="padding-left:4em;">Отключает циклический счетчик в текущей сессии. Счетчик активен, если команда подана с терминала; данная опция отключает его в любом случае.</p>


	<p><strong>--usepkg-exclude </strong> <strong>АТОМЫ</strong></p>


	<p style="padding-left:4em;">Список пакетов или атомов слотов, через пробел. Emerge проигнорирует бинарные пакеты, совпадающие с запросом.</p>


	<p><strong>--rebuild-exclude </strong> <strong>АТОМЫ</strong></p>


	<p style="padding-left:4em;">Список пакетов или атомов слотов, через пробел. Совпадающие с запросом пакеты не будут пересобраны.</p>


	<p><strong>--rebuild-ignore </strong> <strong>АТОМЫ</strong></p>


	<p style="padding-left:4em;">Список пакетов или атомов слотов, через пробел. Зависимости пакетов, совпадающих с запросом, не будут пересобраны.</p>


	<p><strong>--oneshot </strong> <strong>(сокращенно -1)</strong></p>


	<p style="padding-left:4em;">Обычная установка, но пакеты не будут добавлены в файл world и, следовательно, не будут в дальнейшем обновляться.</p>


	<p><strong>--onlydeps </strong> <strong>(сокращенно -o)</strong></p>


	<p style="padding-left:4em;">Установка (или симуляция установки) не самих указанных пакетов, а только их зависимостей.</p>


	<p><strong>--package-moves [ y | n ]</strong></p>


	<p style="padding-left:4em;">При необходимости перемещает пакеты. Включено по умолчанию. <strong>ВНИМАНИЕ:</strong> В общем случае эта опция должна оставаться включенной. Не выключайте ее, если вы не уверены, что это необходимо.</p>


	<p><strong>--pretend </strong> <strong>(сокращенно -p)</strong></p>


	<p style="padding-left:4em;">Не выполняет установку, а лишь отображает пакеты которые <strong>были бы</strong> установлены без <strong>--pretend</strong>. Использование данной опции настоятельно рекомендуется перед установкой незнакомых пакетов. Расшифровка содержимого вывода:</p>


	<table style="margin-left:4em;;">
		<tr>
			<td>U</td>
			<td>обновление (установка новой версии)</td>
		</tr>
		<tr>
			<td>D</td>
			<td>откат (рекомендуемая, "лучшая" версия ниже установленной)</td>
		</tr>
		<tr>
			<td>R</td>
			<td>замена (переустановка текущей версии))</td>
		</tr>
		<tr>
			<td>F</td>
			<td>загрузка ограничена (данные необходимо загрузить вручную)</td>
		</tr>
		<tr>
			<td>f</td>
			<td>загрузка ограничена (данные уже загружены)</td>
		</tr>
		<tr>
			<td>I</td>
			<td>интерактивный режим (требует пользовательского ввода)</td>
		</tr>
		<tr>
			<td>B</td>
			<td>блокируется другим пакетом (неразрешенный конфликт)</td>
		</tr>
		<tr>
			<td>b</td>
			<td>блокируется другим пакетом (автоматически разрешенный конфликт)</td>
		</tr>
	</table>




	<p><strong>--quiet [ y | n ] (сокращенно -q)</strong></p>


	<p style="padding-left:4em;">Использование этой опции может иметь различный эффект, но в общем случае сократится объем сообщений portage.</p>


	<p><strong>--quiet-build [ y | n ]</strong></p>


	<p style="padding-left:4em;">Перенаправляет весь вывод сборки в журнал, не отображая его в консоли. Если ошибку при сборке выдает только один пакет, в стандартном выводе автоматически будет показан журнал сборки. Если ошибка не одна (при использовании таких опций как --keep-going или --jobs) содержимое соответствующих журналов не будет выводиться; вместо этого вы увидите пути доступа к ним вместе с сообщениями об аварийном завершении. Это стандартная опция. Для отмены  --quiet-build по умолчанию, установите значение --quiet-build=n в переменной <strong>EMERGE_DEFAULT_OPTS</strong> в файле <strong>make.conf</strong>(5).</p>


	<p><strong>--quiet-unmerge-warn</strong></p>


	<p style="padding-left:4em;">Отключает предупреждение, показываемое перед началом <strong>--unmerge</strong>. Эта опция настраивается через переменную <strong>EMERGE_DEFAULT_OPTS</strong> в файле <strong><a href=".html" class="wiki-page">make.conf</a></strong>(5).</p>


	<p><strong>--rebuild-if-new-rev [ y | n ]</strong></p>


	<p style="padding-left:4em;">Если зависимости времени сборки компилируются из исходных кодов и зависимость еще не установлена в той же версии и ревизии, пакет будет пересобран.</p>


	<p><strong>--rebuild-if-new-ver [ y | n ]</strong></p>


	<p style="padding-left:4em;">Если зависимости времени сборки компилируются из исходных кодов и зависимость еще не установлена в той же версии, пакет будет пересобран. Ревизии при этом игнорируются.</p>


	<p><strong>--rebuild-if-unbuilt [ y | n ]</strong></p>


	<p style="padding-left:4em;">Если зависимости времени сборки компилируются из исходных кодов, пакеты будут пересобраны.</p>


	<p><strong>--rebuilt-binaries [ y | n ]</strong></p>


	<p style="padding-left:4em;">Заменяет установленные пакеты пересобранными бинарными. Для выявления пересобранных пакетов анализируются метаданные пакетов BUILD_TIME. Данная опция включается по умолчанию при использовании бинарных пакетов (<strong>--usepkgonly</strong> или <strong>--getbinpkgonly</strong>) в связке с опциями <strong>--update</strong> и <strong>--deep</strong>.</p>


	<p><strong>--rebuilt-binaries-timestamp=TIMESTAMP</strong></p>


	<p style="padding-left:4em;">Изменяет поведение emerge только при выставленной опции <strong>--rebuilt-binaries</strong>. Последняя будет обрабатывать лишь те бинарные файлы, у которых значение BUILD_TIME больше, чем TIMESTAMP и чем соответствующая величина установленного пакета.</p>


	<p><strong>--reinstall changed-use</strong></p>


	<p style="padding-left:4em;">Будут переустановлены те уже установленные пакеты, USE-флаги которых изменились с момента установки. В отличие от <strong>--newuse</strong>, данная опция не вызывает переустановку, когда добавляются/удаляются флаги, которых пользователь не включал.</p>


	<p><strong>--reinstall-atoms </strong> <strong>АТОМЫ</strong></p>


	<p style="padding-left:4em;">Список пакетов или атомов слотов, через пробел. Emerge обработает пакеты, соответствующие запросу, так, как если бы они не были установлены, и переустановит их, если этого необходимо.</p>


	<p><strong>--root=DIR</strong></p>


	<p style="padding-left:4em;">Устанавливает переменную окружения <strong>ROOT</strong>.</p>


	<p><strong>--root-deps[=rdeps]</strong></p>


	<p style="padding-left:4em;">Если аргумент не задан, зависимости времени сборки пакетов для <strong>ROOT</strong> будут установлены не в корневой каталог, а в каталог <strong>ROOT</strong>. Если задан аргумент <strong>rdeps</strong>, все зависимости времени сборки пакетов для <strong>ROOT</strong> будут проигнорированы. Эта опция имеет смысл только в том случае, если используется совместно с <strong>ROOT</strong>, ее не следует использовать в обычных случаях. Для поддерживаемых в настоящее время значений <strong>EAPI</strong> зависимости времени построения определены в переменной <strong>DEPEND</strong>. В новых версиях <strong>EAPI</strong>, с добавлением новых расширений, данная опция может работать иначе.</p>


	<p><strong>--select [ y | n ]</strong></p>


	<p style="padding-left:4em;">Добавляет указанные пакеты к сету world (опция, обратная <strong>--oneshot</strong>). Это удобно в том случае, если вы хотите сделать поведение <strong>--oneshot</strong> стандартным через переменную <strong>EMERGE_DEFAULT_OPTS</strong>.</p>


	<p><strong>--selective [ y | n ]</strong></p>


	<p style="padding-left:4em;">Действует аналогично опции <strong>--noreplace</strong>. Некоторые другие опции, в частности, <strong>--update</strong>, неявно подразумевают <strong>--selective</strong>. Если вам необходимо принудительно отключить <strong>--selective</strong>, независимо от таких опций как <strong>--update</strong>, установите <strong>--selective=n</strong>.</p>


	<p><strong>--skipfirst</strong></p>


	<p style="padding-left:4em;">Эта опция используется только в связке с <strong>--resume</strong>. Она исключает из списка пакетов, которые будут установлены при возобновлении последнего действия emerge, первый пакет. Для оставшихся пакетов пересчитываются зависимости; все пакеты, имеющие замаскированные или неудовлетворенные зависимости, автоматически исключаются. См. также похожую опцию <strong>--keep-going</strong>.</p>


	<p><strong>--tree </strong> <strong>(сокращенно -t)</strong></p>


	<p style="padding-left:4em;">Показывает дерево зависимостей для выбранной цели, используя отступы. Эта опция полезна только в сочетании с <strong>--emptytree</strong> или  <strong>--update</strong> и <strong>--deep</strong>.</p>


	<p><strong>--unordered-display</strong></p>


	<p style="padding-left:4em;">По умолчанию список пакетов на установку сортируется в том порядке, в каком они будут обрабатываться. Если в связке с данной опцией используется <strong>--tree</strong>, это ограничение снимается, и дерево зависимостей воспринимается легче.</p>


	<p><strong>--update </strong> <strong>(сокращенно -u)</strong></p>


	<p style="padding-left:4em;">Обновляет пакеты до версии, маркированной как лучшая; учтите, что это не обязательно последняя выпущенная версия, поскольку отдельные версии могут маскироваться для тестирования и дальнейшей разработки. Переданные в командной строке пакетные атомы являются "жадными": неточные атомы могут совпадать с несколькими установленными версиями размеченных пакетов.</p>


	<p><strong>--use-ebuild-visibility [ y | n ]</strong></p>


	<p style="padding-left:4em;">Использует метаданные несобранных ебилдов для проверки на видимость готовых пакетов.</p>


	<p><strong>--useoldpkg-atoms </strong> <strong>АТОМЫ</strong></p>


	<p style="padding-left:4em;">Список пакетов или атомов слотов, через пробел. Бинарные пакеты, удовлетворяющие запросу, будут предпочитаться хотя и более новым, но не прекомпилированным пакетам.</p>


	<p><strong>--usepkg [ y | n ] (сокращенно -k)</strong></p>


	<p style="padding-left:4em;">Указывает emerge использовать бинарные пакеты (из каталога $PKGDIR), если они доступны, тем самым по возможности избегая продолжительных компиляций. Эта опция полезна при установке с CD: можно выполнить export PKGDIR=/mnt/cdrom/packages, а затем использовать --usepkg, чтобы для удовлетворения зависимостей она "вытягивала" пакеты с диска.</p>


	<p><strong>--usepkgonly [ y | n ] (сокращенно -K)</strong></p>


	<p style="padding-left:4em;">Указывает emerge использовать только бинарные пакеты (из каталога $PKGDIR). Все они должны быть доступны на момент проверки зависимостей - в противном случае emerge просто прекратит работу. Поскольку Portage при определении зависимостей не обращается к каталогу $PORTDIR, любая информация о маскировке будет проигнорирована.</p>


	<p><strong>--verbose </strong> <strong>(сокращенно -v)</strong></p>


	<p style="padding-left:4em;">Запускает emerge в режиме подробного вывода. В настоящее время использование этого ключа приводит к тому, что в случае возникновения ошибок будут выводиться сообщения GNU info, а также, при симулировании установки, будут отображаться последние USE-флаги каждого пакета. Ниже приводится расшифровка суффиксов, добавляемых к USE-флагам для обозначения их состояния:</p>


	<table style="margin-left:4em;;">
		<tr>
			<td>Символ</td>
			<td>Расположение</td>
			<td>Значение</td>
		</tr>
		<tr>
			<td>-</td>
			<td>префикс</td>
			<td>флаг отсутствует (отключен или удален)</td>
		</tr>
		<tr>
			<td>*</td>
			<td>суффикс</td>
			<td>переключение состояния включен/отключен</td>
		</tr>
		<tr>
			<td>%</td>
			<td>суффикс</td>
			<td>вновь добавлен или убран</td>
		</tr>
		<tr>
			<td>()</td>
			<td>окружает</td>
			<td>выставляется принудительно, замаскирован или удален</td>
		</tr>
	</table>




	<p><strong>--with-bdeps &lt; y | n &gt;</strong></p>


	<p style="padding-left:4em;">При определении зависимостей "вытягивает" нестрогие зависимости времени сборки. По умолчанию для действий по установке этот ключ стоит на n - иначе говоря, такие зависимости не будут установлены, а значение y применяется с действием <strong>--depclean</strong> - иными словами, такие зависимости будут удалены. Настраивается в переменной <strong>EMERGE_DEFAULT_OPTS</strong> (см. make.conf(5)), но может быть переопределено в командной строке.</p>


	<h2 id="ПАРАМЕТРЫ-ОКРУЖЕНИЯ">ПАРАМЕТРЫ ОКРУЖЕНИЯ<a href="#ПАРАМЕТРЫ-ОКРУЖЕНИЯ" class="wiki-anchor">&para;</a></h2>


	<p><strong>ROOT</strong> = <em>[путь]</em></p>


	<p style="padding-left:4em;">Используйте <strong>ROOT</strong>, чтобы назначить корневую файловую систему для установки пакетов или ебилдов. Данная переменная настраивается через опцию <strong>--root</strong> или в файле <strong><a href=".html" class="wiki-page">make.conf</a></strong>(5) (эти настройки могут быть переопределены в командной строке). <br />По умолчанию это корневой каталог, /.</p>


	<p><strong>PORTAGE_CONFIGROOT</strong> = <em>[путь]</em></p>


	<p style="padding-left:4em;">Используйте <strong>PORTAGE_CONFIGROOT</strong>, чтобы указать расположение различных файлов конфигурации portage (подробный перечень конфигурационных файлов см. в разделе <strong>ФАЙЛЫ</strong>). Эта переменная настривается через опцию <strong>--config-root</strong>. <br />По умолчанию это корневой каталог.</p>


	<h2 id="ВЫВОД">ВЫВОД<a href="#ВЫВОД" class="wiki-anchor">&para;</a></h2>


	<p>На первых порах при использовании <strong>emerge</strong> с опциями <strong>--pretend</strong> и <strong>--verbose</strong> вывод программы может показаться сложным для понимания. Ниже приведены примеры типичных выводов с пояснениями.</p>


	<p><strong>[blocks</strong> <strong>B</strong> <strong>]</strong> <strong>app-text/dos2unix</strong> <strong>("app-text/dos2unix"</strong> <strong>is</strong> <strong>blocking</strong> <strong>app-text/hd2u-0.8.0)</strong></p>


	<p style="padding-left:4em;">Пакет dos2unix блокирует установку пакета hd2u. При блокировании два пакета перекрываются по файлам или могут вызвать те или иные повреждения в системе. Однако обычно включать одновременно блокирующие друг друга пакеты не нужно, поскольку они, как правило обеспечивают одинаковые возможности.</p>


	<p><strong>[ebuild</strong> <strong>N</strong> <strong>]</strong> <strong>app-games/qstat-25c</strong></p>


	<p style="padding-left:4em;">Пакет qstat - новый в вашей системе и будет установлен с помощью emerge впервые.</p>


	<p><strong>[ebuild</strong> <strong>NS</strong> <strong>]</strong> <strong>dev-libs/glib-2.4.7</strong></p>


	<p style="padding-left:4em;">У вас уже установлена одна из версий пакета glib, но для установки доступна более новая версия в другом слоте.</p>


	<p><strong>[ebuild</strong> <strong>R</strong> <strong>]</strong> <strong>sys-apps/sed-4.0.5</strong></p>


	<p style="padding-left:4em;">Версия пакета sed 4.0.5 уже была установлена, но при запуске команды  portage переустановит пакет (в данном случае sed).</p>


	<p><strong>[ebuild</strong> <strong>F</strong> <strong>]</strong> <strong>media-video/realplayer-8-r6</strong></p>


	<p style="padding-left:4em;">Пакет realplayer требует, чтобы вы загрузили файлы исходного кода вручную. Если исходники пакета не найдены, при попытке установить его portage прервет работу, сообщив, как загрузить недостающие файлы.</p>


	<p><strong>[ebuild</strong> <strong>f</strong> <strong>]</strong> <strong>media-video/realplayer-8-r6</strong></p>


	<p style="padding-left:4em;">Файлы пакета realplayer уже загружены.</p>


	<p><strong>[ebuild</strong> <strong>U</strong> <strong>]</strong> <strong>net-fs/samba-2.2.8_pre1</strong> <strong>[2.2.7a]</strong></p>


	<p style="padding-left:4em;">Пакет samba 2.2.7a уже установлен и может быть обновлен до версии 2.2.8_pre1.</p>


	<p><strong>[ebuild</strong> <strong>UD]</strong> <strong>media-libs/libgd-1.8.4</strong> <strong>[2.0.11]</strong></p>


	<p style="padding-left:4em;">Пакет libgd 2.0.11 уже установлен, но при запуске команды portage понизит его до версии 1.8.4. <br />Это может произойти в том случае, если более новая версия пакета была замаксирована, поскольку оказалась поврежденной или создает угрозу защите системы, а исправление еще не выпущено.<br />Другая ситуация, в которой возможен подобный вывод - пакет, который вы пытаетесь установить, для нормальной работы требует более ранней версии какого-либо другого пакета, чем текущая. В приведенном примере библиотека libgd 2.x несовместима с libgd 1.x. Поэтому пакеты, созданные с помощью libgd 1.x, не скомпилируются с версией 2.x и для установки должны быть понижены.</p>


	<p><strong>[ebuild</strong> <strong>U</strong> <strong>]</strong> <strong>sys-devel/distcc-2.16</strong> <strong>[2.13-r1]</strong> <strong>USE="ipv6*</strong> <strong>-gtk</strong> <strong>-qt%"</strong></p>


	<p style="padding-left:4em;">Из приведенного примера видно, что на установку данного пакета влияет переменная <strong>USE</strong> в make.conf. Включена необязательная поддержка ipv6, отключена поддержка gtk и qt. Астериск, стоящий после флага ipv6, показывает, что при последней установке пакета поддержка ipv6 была отключена. Знак процента вслед за флагом qt говорит о том, что поддержка qt была добавлена к пакету после того, как он был установлен в последний раз. Полную справку по значению символов, используемых с <strong>USE</strong>, см. выше в разделе об опции <strong>--verbose</strong>. <br />*<strong>Примечание:</strong> Флаги, которые с момента последней установки пакета не изменились, отображаются только при использовании опций <strong>--pretend</strong> и <strong>--verbose</strong>. Чтобы отключить вывод информации, используйте опцию <strong>--quiet</strong>.</p>


	<p><strong>[ebuild</strong> <strong>U</strong> <strong>*]</strong> <strong>sys-apps/portage-2.2.0_alpha6</strong> <strong>[2.1.9.25]</strong></p>


	<p style="padding-left:4em;">Установлена версия 2.1.9.25 пакета portage; при вызове команды portage обновится до версии 2.2.0_alpha6. Здесь вы видите символ <strong>*</strong>, указывающий, что версия 2.2.0_alpha6 замаскирована отсутствующим ключевым словом. Этот тип маскировки отключается с помощью опции <strong>--quiet</strong>, если не включена опция <strong>--verbose</strong>. Для обозначения типов маскировки используются следующие символы:</p>


	<table style="margin-left:4em;;">
		<tr>
			<td>Символ</td>
			<td>Тип маскировки</td>
		</tr>
		<tr>
			<td>#</td>
			<td>package.mask</td>
		</tr>
		<tr>
			<td>*</td>
			<td>отсутствующий</td>
		</tr>
		<tr>
			<td>~</td>
			<td>нестабильный</td>
		</tr>
	</table>




	<p style="padding-left:4em;"><strong>ПРИМЕЧАНИЕ:</strong> Символ маскировки нестабильного пакета (~) не будет отображаться, если соответствующие ключевые слова уже выставлены глобально с помощью переменной <strong>ACCEPT_KEYWORDS</strong>.</p>


	<h2 id="ПРИМЕЧАНИЯ">ПРИМЕЧАНИЯ<a href="#ПРИМЕЧАНИЯ" class="wiki-anchor">&para;</a></h2>


	<p>Практически всегда перед любой попыткой установки или обновления следует выполнять ее же, но с опцией <strong>--pretend</strong>. Она позволяет увидеть, что именно будет сделано, а также, возможно, выявить блокировку, которую потребуется предварительно разрешить. Это особенно важно для сетов <strong>system</strong> и <strong>world</strong>, которые могут вызвать обновление большого количества пакетов, если дерево портежей было существенно изменено. Обычно также имеет смысл использовать опцию <strong>--update</strong>, которая позволяет игнорировать уже полностью обновленные пакеты, но обновлять при этом все остальные. При установке пакета с отсутствующими в системе зависимостями, если эти зависимости не указаны явно в списке параметров, они не будут добавляться в файл world. Если необходимо внести зависимости в файл world для последующих обновлений, убедитесь, что указали их явно в качестве параметров <strong>emerge</strong>. В командной строке можно указывать <strong>USE-переменные</strong>, переопределяющие значения, указанные в стандартных местах, что позволяет избежать ряда нежелательных зависимостей. <strong>USE-флаги, заданные в командной строке, НЕ запоминаются</strong>. Например, команда <strong>env USE="-X -gnome" emerge mc</strong> установит пакет mc с указанными настройками USE (на интерпретаторах, совместимых с bash, <strong>env</strong> можно опустить). Если необходимо сделать настройки USE постоянными, следует поместить их в каталог /etc/portage/package.use. Если команда <strong>emerge --update system</strong> или <strong>emerge --update world</strong> при выполнении выдает ошибку, возможно, что какой-то ебилд использует новую возможность, не поддерживаемую в данной версии <strong>emerge</strong>. В этом случае выполните <strong>emerge --update portage</strong>, чтобы обновить portage до последней версии и обеспечить поддержку любого нового функционала.</p>


	<h2 id="МАСКИРОВКА-ПАКЕТОВ">МАСКИРОВКА ПАКЕТОВ<a href="#МАСКИРОВКА-ПАКЕТОВ" class="wiki-anchor">&para;</a></h2>


	<p><em>ПРИМЕЧАНИЕ: С осторожностью используйте пакеты, находящиеся в стадии разработки. Разрешение проблем и ошибок, возникающих в результате использования замаскированных пакетов, тратит впустую время Gentoo-разработчика. Подумайте заранее, сможете ли вы справиться с возможными проблемами.</em> Маски в <strong>Portage</strong> обеспечивают несколько функций: они позволяют задать период тестирования, в течение которого пакеты могут использоваться в live-системах; предотвращают использование пакета, который начал сбоить; позволяют маскировать существующие нерабочие или угрожающие безопасности пакеты. Как размаскировать пакет, описано ниже. Обратите внимание: если передать утилите <strong>emerge</strong> ебилд, то любая маскировка будет проигнорирована и <strong>emerge</strong> попытается установить пакет.</p>


	<p><strong>Система контроля ошибок</strong></p>


	<p style="padding-left:4em;">При использовании <strong>системы контроля ошибок</strong> (backtracking) пакет временно маскируется, чтобы избежать конфликта зависимостей и/или появления неразрешенных зависимостей. Этот тип маскировки обычно сопровождается сообщением о том, что обновление пакета было пропущено во избежание конфликтов зависимостей и/или возникновения неудовлетворенных зависимостей.</p>


	<p><strong>package.mask</strong></p>


	<p style="padding-left:4em;">Файл <strong>package.mask</strong> используется преимущественно для блокирования пакетов, вызывающих проблемы везде или на некоторых машинах. Он находится в каталоге <em>/usr/portage/profiles</em>.</p>


	<p><strong>CHOST</strong></p>


	<p style="padding-left:4em;">Для управления <strong>CHOST</strong> используйте переменную <strong>ACCEPT_CHOSTS</strong> в файле <strong><a href=".html" class="wiki-page">make.conf</a></strong>(5).</p>


	<p><strong>EAPI</strong></p>


	<p style="padding-left:4em;">Переменная <strong>EAPI</strong> в <strong><a href="ebuild.html" class="wiki-page">ebuild</a></strong>(5)-файле используется для маскировки пакетов, которые не поддерживаются текущей версией portage. Пакеты, замаскированные посредством <strong>EAPI</strong>, могут быть установлены только после обновления portage.</p>


	<p><strong>KEYWORDS</strong></p>


	<p style="padding-left:4em;">Переменная <strong>KEYWORDS</strong> в <strong>ebuild</strong>-файле также используется для маскировки пакетов, находящихся на стадии тестирования. Для каждого пакета есть определяющие архитектуру ключевые слова, позволяющие <strong>portage</strong> определить, с какими системами совместим пакет. Пакеты, компилирующиеся на той или иной архитектуре, но не считающиеся "стабильными", маскируются путем указания тильды (<strong>~</strong>) перед названием архитектуры. Прежде чем разрешить или запретить установку пакета, замаскированного с помощью <strong>KEYWORDS</strong>, утилита <strong>emerge</strong> проверяет значение переменной окружения <strong>ACCEPT_KEYWORDS</strong>. Чтобы <strong>emerge</strong> собирал тестовые версии определенных пакетов,  следует обновить файл  <em>/etc/portage/package.accept_keywords</em>, чтобы эти пакеты вошли в список пакетов, установка которых разрешена несмотря на тестовую версию. Подробнее см. в документации по <strong>portage</strong>(5).</p>


	<p><strong>LICENSE</strong></p>


	<p style="padding-left:4em;">Переменная <strong>LICENSE</strong> в <strong>ebuild</strong>-файле может быть использована для маскировки пакетов исходя из лицензии. Прежде чем разрешить или запретить установку пакета, замаскированного с помощью <strong>LICENSE</strong>, <strong>emerge</strong> проверяет значение переменной окружения <strong>ACCEPT_LICENSE</strong>. Подробнее об <strong>ACCEPT_LICENSE</strong> см. <strong><a href=".html" class="wiki-page">make.conf</a></strong>(5). Дополнительная информация о файле  <em>/etc/portage/package.license</em> содержится в документации по <strong><a href=".html" class="wiki-page">portage</a></strong>(5).</p>


	<p><strong>PROPERTIES</strong></p>


	<p style="padding-left:4em;">Переменная <strong>PROPERTIES</strong> в <strong>ebuild</strong>-файле может быть использована для маскировки пакетов исходя из параметров. Прежде чем разрешить или запретить установку пакета, замаскированного с помощью <strong>PROPERTIES</strong>, <strong>emerge</strong> проверяет значение переменной окружения <strong>ACCEPT_PROPERTIES</strong>. Подробнее об <strong>ACCEPT_PROPERTIES</strong> см. <strong>make.conf</strong>(5). Подробнее о файле <em>/etc/portage/package.properties</em> можно узнать в руководстве по <strong>portage</strong>(5). Чтобы временно переопределить значение <strong>ACCEPT_PROPERTIES</strong>, используйте опцию <strong>--accept-properties</strong>.</p>


	<h2 id="КОНФИГУРАЦИОННЫЕ-ФАЙЛЫ">КОНФИГУРАЦИОННЫЕ ФАЙЛЫ<a href="#КОНФИГУРАЦИОННЫЕ-ФАЙЛЫ" class="wiki-anchor">&para;</a></h2>


	<p>В Portage включена специфическая функция - защита конфигурационных файлов (config file protection). Она призвана предотвращать затирание существующих конфигурационных файлов при установке новых пакетов. По умолчанию эта функция включена для /etc и каталогов конфигурации KDE; в дальнейшем к ним могут быть добавлены и другие каталоги. Всякий раз, когда Portage устанавливает файл в "защищенный" каталог, в частности, в /etc, файлы, которые там уже находятся, не будут перезаписаны. Если файл с таким именем уже существует, Portage заменит имя нового файла, например, 'foo', на \'._cfg0000_foo\'.. Если существует и файл \'._cfg0000_foo\', имя нового файла будет \'._cfg0001_foo\', и так далее. Благодаря подобной политике именования новые файлы не затирают существующие, а администратор получает возможность вручную обновить конфигурационные файлы, если это необходимо, и избежать нежелательных изменений, возможных при автоматической замене старого файла новым. Помимо защиты файлов от перезаписи, Portage не удаляет файлов из "защищенного" каталога и при удалении пакета. Хотя в результате каталог может оказаться заполнен большим количеством ненужных файлов, при этом - и это чрезвычайно важно - исключается опасность удаления ценных конфигурационных файлов. Каталоги, на которые распространяется действие защиты, устанавливаются через переменную <em>CONFIG_PROTECT</em> - как правило, она определена в файле make.globals. Чтобы указать подкаталоги-исключения, используйте переменную <em>CONFIG_PROTECT_MASK</em>. Чтобы найти в каталоге /etc файлы, которые необходимо обновить, выполните <strong>find /etc -iname \'._cfg????_*\'</strong>. Данную настройку можно отменить, выставив <em>CONFIG_PROTECT="-*"</em> в /etc/make.conf. После этого Portage будет обновлять ваши конфигурационные файлы автоматически, ни о чем не спрашивая. В качестве альтернативы можно не отключать защиту конфигурационных файлов, но указать Portage, что следует перезаписать файлы в определенных подкаталогах каталога /etc. Например, если вы хотите, чтобы Portage автоматически обновлял ваши rc-сценарии и конфигурацию wget, но запрашивал ваше согласие на любые другие изменения конфигурационных файлов, в файл /etc/make.conf необходимо добавить строку: <em>CONFIG_PROTECT_MASK="/etc/wget</em> <em>/etc/rc.d"</em>. Можно также использовать такие утилиты как dispatch-conf, cfg-update и etc-update: они обеспечивают интерактивную обработку изменений конфигурации, а типовые изменения принимают автоматически.</p>


	<h2 id="БАГТРЕКЕР">БАГТРЕКЕР<a href="#БАГТРЕКЕР" class="wiki-anchor">&para;</a></h2>


	<p>Сообщайте нам обо всех обнаруженных ошибках: <strong><noindex><a class="external" href="http://bugs.gentoo.org/" ref="nofollow">http://bugs.gentoo.org/</a></noindex></strong>. Не забудьте включить в сообщение вывод команды <strong>emerge --info</strong>.</p>


	<h2 id="АВТОРЫ">АВТОРЫ<a href="#АВТОРЫ" class="wiki-anchor">&para;</a></h2>


	<ul>
	<li>Daniel Robbins &lt;<a class="email" href="mailto:drobbins@gentoo.org">drobbins@gentoo.org</a>&gt; </li>
		<li>Geert Bevin &lt;<a class="email" href="mailto:gbevin@gentoo.org">gbevin@gentoo.org</a>&gt; </li>
		<li>Achim Gottinger &lt;<a class="email" href="mailto:achim@gentoo.org">achim@gentoo.org</a>&gt; </li>
		<li>Nicholas Jones &lt;<a class="email" href="mailto:carpaski@gentoo.org">carpaski@gentoo.org</a>&gt; </li>
		<li>Phil Bordelon &lt;<a class="email" href="mailto:phil@thenexusproject.org">phil@thenexusproject.org</a>&gt; </li>
		<li>Mike Frysinger &lt;<a class="email" href="mailto:vapier@gentoo.org">vapier@gentoo.org</a>&gt; </li>
		<li>Marius Mauch &lt;<a class="email" href="mailto:genone@gentoo.org">genone@gentoo.org</a>&gt; </li>
		<li>Jason Stubbs &lt;<a class="email" href="mailto:jstubbs@gentoo.org">jstubbs@gentoo.org</a>&gt; </li>
		<li>Brian Harring &lt;<a class="email" href="mailto:ferringb@gmail.com">ferringb@gmail.com</a>&gt; </li>
		<li>Zac Medico &lt;<a class="email" href="mailto:zmedico@gentoo.org">zmedico@gentoo.org</a>&gt;</li>
	</ul>


	<h2 id="ФАЙЛЫ">ФАЙЛЫ<a href="#ФАЙЛЫ" class="wiki-anchor">&para;</a></h2>


	<p>Здесь приведены основные файлы, отвечающие за работу emerge. Если вас интересует полный перечень, обратитесь к man-руководству <strong>portage</strong>(5).</p>


	<p><strong>/usr/share/portage/config/sets/</strong></p>


	<p style="padding-left:4em;">Содержит стандартные конфигурации сетов.</p>


	<p><strong>/var/lib/portage/world</strong></p>


	<p style="padding-left:4em;">Содержит список всех указанных пользователем пакетов. Вы можете свободно редактировать этот файл, добавляя пакеты, которые необходимо учитывать при обновлении сета <strong>world</strong>, и удаляя те, которые обновлять при этом не нужно.</p>


	<p><strong>/etc/make.conf</strong></p>


	<p style="padding-left:4em;">Содержит переменные сборки, имеющие приоритет над значениями, указанными в <strong>make.globals</strong>.</p>


	<p><strong>/etc/portage/color.map</strong></p>


	<p style="padding-left:4em;">Содержит переменные, используемые для пользовательской настройки цветного вывода.</p>


	<p><strong>/etc/dispatch-conf.conf</strong></p>


	<p style="padding-left:4em;">Содержит настройки автоматического обновления/отката конфигурационных файлов.</p>


	<p><strong>/etc/make.profile/make.defaults</strong></p>


	<p style="padding-left:4em;">Содержит специфические для выбранного профиля переменные сборки. <strong>Не редактируйте этот файл</strong>.</p>


	<p><strong>/usr/portage/profiles/use.desc</strong></p>


	<p style="padding-left:4em;">Содержит основной список USE-флагов с описаниями их функций. <strong>Не редактируйте этот файл</strong>.</p>


	<p><strong>/etc/make.profile/virtuals</strong></p>


	<p style="padding-left:4em;">Содержит стандартный список пакетов, используемый для разрешения виртуальных зависимостей. <strong>Не редактируйте этот файл</strong>.</p>


	<p><strong>/etc/make.profile/packages</strong></p>


	<p style="padding-left:4em;">Содержит список пакетов для базовой системы. Сеты <strong>system</strong> и <strong>world</strong> обращаются именно к нему. <strong>Не редактируйте этот файл</strong>.</p>


	<p><strong>/usr/share/portage/config/make.globals</strong></p>


	<p style="padding-left:4em;">Содержит переменные по умолчанию по сборки. <strong>Не редактируйте этот файл</strong>.</p>


	<h2 id="СМ-ТАКЖЕ">СМ. ТАКЖЕ<a href="#СМ-ТАКЖЕ" class="wiki-anchor">&para;</a></h2>


	<p><strong>emerge --help</strong> <strong>,</strong> <strong><a href=".html" class="wiki-page">quickpkg</a></strong> <strong>(1),</strong> <strong><a href="ebuild.html" class="wiki-page">ebuild</a></strong> <strong>(1),</strong> <strong><a href="ebuild.html" class="wiki-page">ebuild</a></strong> <strong>(5),</strong> <strong><a href=".html" class="wiki-page">make.conf</a></strong> <strong>(5),</strong> <strong><a href=".html" class="wiki-page">color.map</a></strong> <strong>(5),</strong> <strong><a href=".html" class="wiki-page">portage</a></strong> <strong>(5)</strong> Ряд вспомогательных приложений расположены в каталоге <em>/usr/lib/portage/bin</em>, а пакет <strong>app-portage/gentoolkit</strong> содержит полезные сценарии, в частности,  <strong><a href=".html" class="wiki-page">equery</a></strong> (утилита для запроса информации о пакетах).</p>


	<h2 id="ПЕРЕВОД">ПЕРЕВОД<a href="#ПЕРЕВОД" class="wiki-anchor">&para;</a></h2>


	<ul>
	<li>Елена Гаврилова &lt;<a class="email" href="mailto:e.vl.gavrilova@yandex.ru">e.vl.gavrilova@yandex.ru</a>&gt;</li>
	</ul>


	<p>&nbsp;<br />&nbsp;</p>


	<p>Октябрь 2011</p>
</body>
</html>
